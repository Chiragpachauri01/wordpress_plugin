!function(t){"use strict";function i(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}var n,o;function e(t,e){(n(t,e)?s:o)(t,e)}var s="classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},o=function(t,e){t.classList.add(e)},function(t,e){t.classList.remove(e)}):(n=function(t,e){return i(e).test(t.className)},o=function(t,e){n(t,e)||(t.className=t.className+" "+e)},function(t,e){t.className=t.className.replace(i(e)," ")}),a={hasClass:n,addClass:o,removeClass:s,toggleClass:e,has:n,add:o,remove:s,toggle:e};"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a:t.classie=a}(window);var fixto=function(s,t,a){function e(){this._vendor=null}function n(t,e,i){this.child=t,this._$child=s(t),this.parent=e,this.options={className:"fixto-fixed",top:0,mindViewport:!1},this._setOptions(i)}function r(t,e,i){n.call(this,t,e,i),this._replacer=new o.MimicNode(t),this._ghostNode=this._replacer.replacer,this._saveStyles(),this._saveViewportHeight(),this._proxied_onscroll=this._bind(this._onscroll,this),this._proxied_onresize=this._bind(this._onresize,this),this.start()}function l(t,e,i){n.call(this,t,e,i),this.start()}var c=(u={getAll:function(t){return a.defaultView.getComputedStyle(t)},get:function(t,e){return this.getAll(t)[e]},toFloat:function(t){return parseFloat(t,10)||0},getFloat:function(t,e){return this.toFloat(this.get(t,e))},_getAllCurrentStyle:function(t){return t.currentStyle}},a.documentElement.currentStyle&&(u.getAll=u._getAllCurrentStyle),u),o=(i.prototype={replace:function(){var t=this.replacer.style,e=c.getAll(this.element);t.width=this._width(),t.height=this._height(),t.marginTop=e.marginTop,t.marginBottom=e.marginBottom,t.marginLeft=e.marginLeft,t.marginRight=e.marginRight,t.cssFloat=e.cssFloat,t.styleFloat=e.styleFloat,t.position=e.position,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.display=e.display},hide:function(){this.replacer.style.display="none"},_width:function(){return this.element.getBoundingClientRect().width+"px"},_widthOffset:function(){return this.element.offsetWidth+"px"},_height:function(){return this.element.getBoundingClientRect().height+"px"},_heightOffset:function(){return this.element.offsetHeight+"px"},destroy:function(){for(var t in s(this.replacer).remove(),this)this.hasOwnProperty(t)&&(this[t]=null)}},a.documentElement.getBoundingClientRect().width||(i.prototype._width=i.prototype._widthOffset,i.prototype._height=i.prototype._heightOffset),{MimicNode:i,computedStyle:c});function i(t){this.element=t,this.replacer=a.createElement("div"),this.replacer.style.visibility="hidden",this.hide(),t.parentNode.insertBefore(this.replacer,t)}e.prototype={_vendors:{webkit:{cssPrefix:"-webkit-",jsPrefix:"Webkit"},moz:{cssPrefix:"-moz-",jsPrefix:"Moz"},ms:{cssPrefix:"-ms-",jsPrefix:"ms"},opera:{cssPrefix:"-o-",jsPrefix:"O"}},_prefixJsProperty:function(t,e){return t.jsPrefix+e[0].toUpperCase()+e.substr(1)},_prefixValue:function(t,e){return t.cssPrefix+e},_valueSupported:function(t,e,i){try{return i.style[t]=e,i.style[t]===e}catch(t){return!1}},propertySupported:function(t){return void 0!==a.documentElement.style[t]},getJsProperty:function(t){if(this.propertySupported(t))return t;if(this._vendor)return this._prefixJsProperty(this._vendor,t);var e,i;for(i in this._vendors)if(e=this._prefixJsProperty(this._vendors[i],t),this.propertySupported(e))return this._vendor=this._vendors[i],e;return null},getCssValue:function(t,e){var i,n,o=a.createElement("div"),s=this.getJsProperty(t);if(this._valueSupported(s,e,o))return e;if(this._vendor&&(i=this._prefixValue(this._vendor,e),this._valueSupported(s,i,o)))return i;for(n in this._vendors)if(i=this._prefixValue(this._vendors[n],e),this._valueSupported(s,i,o))return this._vendor=this._vendors[n],i;return null}};var h,d,u=new e,f=u.getJsProperty("transform"),p=u.getCssValue("position","sticky"),m=u.getCssValue("position","fixed");"Microsoft Internet Explorer"===navigator.appName&&(d=parseFloat(navigator.appVersion.split("MSIE")[1])),n.prototype={_mindtop:function(){var t=0;if(this._$mind)for(var e,i,n=0,o=this._$mind.length;n<o;n++)(i=(e=this._$mind[n]).getBoundingClientRect()).height?t+=i.height:(i=c.getAll(e),t+=e.offsetHeight+c.toFloat(i.marginTop)+c.toFloat(i.marginBottom));return t},stop:function(){this._stop(),this._running=!1},start:function(){this._running||(this._start(),this._running=!0)},destroy:function(){for(var t in this.stop(),this._destroy(),this._$child.removeData("fixto-instance"),this)this.hasOwnProperty(t)&&(this[t]=null)},_setOptions:function(t){s.extend(this.options,t),this.options.mind&&(this._$mind=s(this.options.mind)),this.options.zIndex&&(this.child.style.zIndex=this.options.zIndex)},setOptions:function(t){this._setOptions(t),this.refresh()},_stop:function(){},_start:function(){},_destroy:function(){},refresh:function(){}},r.prototype=new n,s.extend(r.prototype,{_bind:function(t,e){return function(){return t.call(e)}},_toresize:8===d?a.documentElement:t,_onscroll:function(){this._scrollTop=a.documentElement.scrollTop||a.body.scrollTop,this._parentBottom=this.parent.offsetHeight+this._fullOffset("offsetTop",this.parent),!1!==this.options.mindBottomPadding&&(this._parentBottom-=c.getFloat(this.parent,"paddingBottom")),!this.fixed&&this._shouldFix()?(this._fix(),this._adjust()):this._scrollTop>this._parentBottom||this._scrollTop<this._fullOffset("offsetTop",this._ghostNode)-this.options.top-this._mindtop()?this._unfix():this._adjust()},_shouldFix:function(){if(this._scrollTop<this._parentBottom&&this._scrollTop>this._fullOffset("offsetTop",this.child)-this.options.top-this._mindtop())return!(this.options.mindViewport&&!this._isViewportAvailable())},_isViewportAvailable:function(){var t=c.getAll(this.child);return this._viewportHeight>this.child.offsetHeight+c.toFloat(t.marginTop)+c.toFloat(t.marginBottom)},_adjust:function(){var t=0,e=this._mindtop(),i=0,n=c.getAll(this.child),o=null;!h||(o=this._getContext())&&(t=Math.abs(o.getBoundingClientRect().top)),i=this._parentBottom-this._scrollTop-(this.child.offsetHeight+c.toFloat(n.marginBottom)+e+this.options.top),this.child.style.top=(i=0<i?0:i)+e+t+this.options.top-c.toFloat(n.marginTop)+"px"},_fullOffset:function(t,e,i){for(var n=e[t],o=e.offsetParent;null!==o&&o!==i;)n+=o[t],o=o.offsetParent;return n},_getContext:function(){for(var t,e=this.child,i=null;!i;){if((t=e.parentNode)===a.documentElement)return null;if("none"!==c.getAll(t)[f]){i=t;break}e=t}return i},_fix:function(){var t,e=this.child,i=e.style,n=c.getAll(e),o=e.getBoundingClientRect().left,s=n.width;this._saveStyles(),a.documentElement.currentStyle&&(s=e.offsetWidth-(c.toFloat(n.paddingLeft)+c.toFloat(n.paddingRight)+c.toFloat(n.borderLeftWidth)+c.toFloat(n.borderRightWidth))+"px"),!h||(t=this._getContext())&&(o=e.getBoundingClientRect().left-t.getBoundingClientRect().left),this._replacer.replace(),i.left=o-c.toFloat(n.marginLeft)+"px",i.width=s,i.position="fixed",i.top=this._mindtop()+this.options.top-c.toFloat(n.marginTop)+"px",this._$child.addClass(this.options.className),this.fixed=!0},_unfix:function(){var t=this.child.style;this._replacer.hide(),t.position=this._childOriginalPosition,t.top=this._childOriginalTop,t.width=this._childOriginalWidth,t.left=this._childOriginalLeft,this._$child.removeClass(this.options.className),this.fixed=!1},_saveStyles:function(){var t=this.child.style;this._childOriginalPosition=t.position,this._childOriginalTop=t.top,this._childOriginalWidth=t.width,this._childOriginalLeft=t.left},_onresize:function(){this.refresh()},_saveViewportHeight:function(){this._viewportHeight=t.innerHeight||a.documentElement.clientHeight},_stop:function(){this._unfix(),s(t).unbind("scroll",this._proxied_onscroll),s(this._toresize).unbind("resize",this._proxied_onresize)},_start:function(){this._onscroll(),s(t).bind("scroll",this._proxied_onscroll),s(this._toresize).bind("resize",this._proxied_onresize)},_destroy:function(){this._replacer.destroy()},refresh:function(){this._saveViewportHeight(),this._unfix(),this._onscroll()}}),l.prototype=new n,s.extend(l.prototype,{_start:function(){var t=c.getAll(this.child);this._childOriginalPosition=t.position,this._childOriginalTop=t.top,this.child.style.position=p,this.refresh()},_stop:function(){this.child.style.position=this._childOriginalPosition,this.child.style.top=this._childOriginalTop},refresh:function(){this.child.style.top=this._mindtop()+this.options.top+"px"}});var g=d<8?function(){return"not supported"}:function(t,e,i){return p&&!i||p&&i&&!1!==i.useNativeSticky?new l(t,e,i):m?(void 0===h&&(n=!1,o=a.createElement("div"),s=a.createElement("div"),o.appendChild(s),o.style[f]="translate(0)",o.style.marginTop="10px",o.style.visibility="hidden",s.style.position="fixed",s.style.top=0,a.body.appendChild(o),0<s.getBoundingClientRect().top&&(n=!0),a.body.removeChild(o),h=n),new r(t,e,i)):"Neither fixed nor sticky positioning supported";var n,o,s};return s.fn.fixTo=function(e,i){var n=s(e),o=0;return this.each(function(){var t=s(this).data("fixto-instance");t?t[e].call(t,i):s(this).data("fixto-instance",g(this,n[o],i)),o++})},{FixToContainer:r,fixTo:g,computedStyle:c,mimicNode:o}}(window.jQuery,window,document);!function(l,a,p,m){"use strict";var o,s,r,h,e,c,u,d,n,t,i,f,g;function v(t,e){var i,n,o,s=[],a=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},i=(e=t&&t.data?d(t.data.options,e):e).$target||p(t.currentTarget).trigger("blur"),(o=p.fancybox.getInstance())&&o.$trigger&&o.$trigger.is(i)||(s=e.selector?p(e.selector):(n=i.attr("data-fancybox")||"")?(s=t.data?t.data.items:[]).length?s.filter('[data-fancybox="'+n+'"]'):p('[data-fancybox="'+n+'"]'):[i],a=p(s).index(i),(o=p.fancybox.open(s,e,a=a<0?0:a)).$trigger=i))}l.console=l.console||{info:function(t){}},p&&(p.fn.fancybox?console.info("fancyBox already initialized"):(t={closeExisting:!0,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!1,smallBtn:"true",toolbar:"true",buttons:["zoom","slideShow","thumbs"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:p.noop,beforeLoad:p.noop,afterLoad:p.noop,beforeShow:p.noop,afterShow:p.noop,beforeClose:p.noop,afterClose:p.noop,onActivate:p.noop,onDeactivate:p.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},o=p(l),s=p(a),r=0,h=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(t){return l.setTimeout(t,1e3/60)},e=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(t){l.clearTimeout(t)},c=function(){var t,e=a.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==m)return i[t];return"transitionend"}(),u=function(t){return t&&t.length&&t[0].offsetHeight},d=function(t,e){var i=p.extend(!0,{},t,e);return p.each(e,function(t,e){p.isArray(e)&&(i[t]=e)}),i},p.extend((n=function(t,e,i){var n=this;n.opts=d({index:i},p.fancybox.defaults),p.isPlainObject(e)&&(n.opts=d(n.opts,e)),p.fancybox.isMobile&&(n.opts=d(n.opts,n.opts.mobile)),n.id=n.opts.id||++r,n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=!0,n.group=[],n.slides={},n.addContent(t),n.group.length&&n.init()}).prototype,{init:function(){var e,i,n=this,o=n.group[n.currIndex].opts;o.closeExisting&&p.fancybox.close(!0),p("body").addClass("fancybox-active"),!p.fancybox.getInstance()&&!1!==o.hideScrollbar&&!p.fancybox.isMobile&&a.body.scrollHeight>l.innerHeight&&(p("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-a.documentElement.clientWidth)+"px;}</style>"),p("body").addClass("compensate-for-scrollbar")),i="",p.each(o.buttons,function(t,e){i+=o.btnTpl[e]||""}),e=p(n.translate(n,o.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",o.btnTpl.arrowLeft+o.btnTpl.arrowRight))).attr("id","fancybox-container-"+n.id).addClass(o.baseClass).data("FancyBox",n).appendTo(o.parentEl),n.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){n.$refs[t]=e.find(".fancybox-"+t)}),n.trigger("onInit"),n.activate(),n.jumpTo(n.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return i[e]===m?t:i[e]})},addContent:function(t){var r=this,t=p.makeArray(t);p.each(t,function(t,e){var i,n,o,s={},a={};p.isPlainObject(e)?a=(s=e).opts||e:"object"===p.type(e)&&p(e).length?(a=(n=p(e)).data()||{},(a=p.extend(!0,{},a,a.options)).$orig=n,s.src=r.opts.src||a.src||n.attr("href"),s.type||s.src||(s.type="inline",s.src=e)):s={type:"html",src:e+""},s.opts=p.extend(!0,{},r.opts,a),p.isArray(a.buttons)&&(s.opts.buttons=a.buttons),p.fancybox.isMobile&&s.opts.mobile&&(s.opts=d(s.opts,s.opts.mobile)),i=s.type||s.opts.type,n=s.src||"",!i&&n&&((a=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="video",s.opts.video.format||(s.opts.video.format="video/"+("ogv"===a[1]?"ogg":a[1]))):n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":n.match(/\.(pdf)((\?|#).*)?$/i)?s=p.extend(!0,s,{contentType:"pdf",opts:{iframe:{preload:!(i="iframe")}}}):"#"===n.charAt(0)&&(i="inline")),i?s.type=i:r.trigger("objectNeedsType",s),s.contentType||(s.contentType=-1<p.inArray(s.type,["html","inline","ajax"])?"html":s.type),s.index=r.group.length,"auto"==s.opts.smallBtn&&(s.opts.smallBtn=-1<p.inArray(s.type,["html","inline","ajax"])),"auto"===s.opts.toolbar&&(s.opts.toolbar=!s.opts.smallBtn),s.$thumb=s.opts.$thumb||null,s.opts.$trigger&&s.index===r.opts.index&&(s.$thumb=s.opts.$trigger.find("img:first"),s.$thumb.length&&(s.opts.$orig=s.opts.$trigger)),s.$thumb&&s.$thumb.length||!s.opts.$orig||(s.$thumb=s.opts.$orig.find("img:first")),s.$thumb&&!s.$thumb.length&&(s.$thumb=null),s.thumb=s.opts.thumb||(s.$thumb?s.$thumb[0].src:null),"function"===p.type(s.opts.caption)&&(s.opts.caption=s.opts.caption.apply(e,[r,s])),"function"===p.type(r.opts.caption)&&(s.opts.caption=r.opts.caption.apply(e,[r,s])),s.opts.caption instanceof p||(s.opts.caption=s.opts.caption===m?"":s.opts.caption+""),"ajax"===s.type&&1<(o=n.split(/\s+/,2)).length&&(s.src=o.shift(),s.opts.filter=o.shift()),s.opts.modal&&(s.opts=p.extend(!0,s.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),r.group.push(s)}),Object.keys(r.slides).length&&(r.updateControls(),(t=r.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}).on("click.fb","[data-fancybox-zoom]",function(t){n[n.isScaledDown()?"scaleToActual":"scaleToFit"]()}),o.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(n.requestId&&e(n.requestId),n.requestId=h(function(){n.update(t)})):(n.current&&"iframe"===n.current.type&&n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update(t)},p.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(t){var e=(p.fancybox?p.fancybox.getInstance():null).current,i=t.keyCode||t.which;if(9!=i){if(!(!e.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||p(t.target).is("input,textarea,video,audio,select")))return 8===i||27===i?(t.preventDefault(),void n.close(t)):37===i||38===i?(t.preventDefault(),void n.previous()):39===i||40===i?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,i)}else e.opts.trapFocus&&n.focus(t)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=l.setInterval(function(){n.idleSecondsCounter++,n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&!n.isDragging&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){o.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,n){var e,i,o,s,a,r,l,c,h=this,d=h.group.length;if(!(h.isDragging||h.isClosing||h.isAnimating&&h.firstRun))return t=parseInt(t,10),!(!(i=(h.current||h).opts.loop)&&(t<0||d<=t))&&(e=h.firstRun=!Object.keys(h.slides).length,s=h.current,h.prevIndex=h.currIndex,h.prevPos=h.currPos,o=h.createSlide(t),1<d&&((i||o.index<d-1)&&h.createSlide(t+1),(i||0<o.index)&&h.createSlide(t-1)),h.current=o,h.currIndex=o.index,h.currPos=o.pos,h.trigger("beforeShow",e),h.updateControls(),o.forcedDuration=m,p.isNumeric(n)?o.forcedDuration=n:n=o.opts[e?"animationDuration":"transitionDuration"],n=parseInt(n,10),t=h.isMoved(o),o.$slide.addClass("fancybox-slide--current"),e?(o.opts.animationEffect&&n&&h.$refs.container.css("transition-duration",n+"ms"),h.$refs.container.addClass("fancybox-is-open").trigger("focus"),h.loadSlide(o)):(a=p.fancybox.getTranslate(s.$slide),r=p.fancybox.getTranslate(h.$refs.stage),p.each(h.slides,function(t,e){p.fancybox.stop(e.$slide,!0)}),s.pos!==o.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),t?(c=a.left-(s.pos*a.width+s.pos*s.opts.gutter),p.each(h.slides,function(t,e){e.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=e.pos*a.width+e.pos*e.opts.gutter;p.fancybox.setTranslate(e.$slide,{top:0,left:i-r.left+c}),e.pos!==o.pos&&e.$slide.addClass("fancybox-slide--"+(e.pos>o.pos?"next":"previous")),u(e.$slide),p.fancybox.animate(e.$slide,{top:0,left:(e.pos-o.pos)*a.width+(e.pos-o.pos)*e.opts.gutter},n,function(){e.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===h.currPos&&h.complete()})})):n&&o.opts.transitionEffect&&(l="fancybox-animated fancybox-fx-"+o.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>o.pos?"next":"previous")),p.fancybox.animate(s.$slide,l,n,function(){s.$slide.removeClass(l).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),o.isLoaded?h.revealContent(o):h.loadSlide(o)),void h.preload("image"))},createSlide:function(t){var e,i=this,n=t%i.group.length;return n=n<0?i.group.length+n:n,!i.slides[t]&&i.group[n]&&(e=p('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=p.extend(!0,{},i.group[n],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var n,o,s,a,r=this,l=r.current,c=l.$content,h=p.fancybox.getTranslate(l.$slide).width,d=p.fancybox.getTranslate(l.$slide).height,u=l.width,f=l.height;r.isAnimating||r.isMoved()||!c||"image"!=l.type||!l.isLoaded||l.hasError||(r.isAnimating=!0,p.fancybox.stop(c),t=t===m?.5*h:t,e=e===m?.5*d:e,(n=p.fancybox.getTranslate(c)).top-=p.fancybox.getTranslate(l.$slide).top,n.left-=p.fancybox.getTranslate(l.$slide).left,s=u/n.width,a=f/n.height,o=.5*h-.5*u,l=.5*d-.5*f,h<u&&(o=0<(o=n.left*s-(t*s-t))?0:o)<h-u&&(o=h-u),d<f&&(l=0<(l=n.top*a-(e*a-e))?0:l)<d-f&&(l=d-f),r.updateCursor(u,f),p.fancybox.animate(c,{top:l,left:o,scaleX:s,scaleY:a},i||366,function(){r.isAnimating=!1}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop())},scaleToFit:function(t){var e=this,i=e.current,n=i.$content;e.isAnimating||e.isMoved()||!n||"image"!=i.type||!i.isLoaded||i.hasError||(e.isAnimating=!0,p.fancybox.stop(n),i=e.getFitPos(i),e.updateCursor(i.width,i.height),p.fancybox.animate(n,{top:i.top,left:i.left,scaleX:i.width/n.width(),scaleY:i.height/n.height()},t||366,function(){e.isAnimating=!1}))},getFitPos:function(t){var e,i,n=t.$content,o=t.$slide,s=t.width||t.opts.width,a=t.height||t.opts.height,r={};return!!(t.isLoaded&&n&&n.length)&&(e=p.fancybox.getTranslate(this.$refs.stage).width,i=p.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(o.css("paddingLeft"))+parseFloat(o.css("paddingRight"))+parseFloat(n.css("marginLeft"))+parseFloat(n.css("marginRight")),i-=parseFloat(o.css("paddingTop"))+parseFloat(o.css("paddingBottom"))+parseFloat(n.css("marginTop"))+parseFloat(n.css("marginBottom")),s&&a||(s=e,a=i),e-.5<(s*=n=Math.min(1,e/s,i/a))&&(s=e),i-.5<(a*=n)&&(a=i),"image"===t.type?(r.top=Math.floor(.5*(i-a))+parseFloat(o.css("paddingTop")),r.left=Math.floor(.5*(e-s))+parseFloat(o.css("paddingLeft"))):"video"===t.contentType&&(s/(t=t.opts.width&&t.opts.height?s/a:t.opts.ratio||16/9)<a?a=s/t:a*t<s&&(s=a*t)),r.width=s,r.height=a,r)},update:function(i){var n=this;p.each(n.slides,function(t,e){n.updateSlide(e,i)})},updateSlide:function(t,e){var i=this,n=t&&t.$content,o=t.width||t.opts.width,s=t.height||t.opts.height,a=t.$slide;i.adjustCaption(t),n&&(o||s||"video"===t.contentType)&&!t.hasError&&(p.fancybox.stop(n),p.fancybox.setTranslate(n,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),i.adjustLayout(t),a.length&&(a.trigger("refresh"),t.pos===i.currPos&&i.$refs.toolbar.add(i.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",a.get(0).scrollHeight>a.get(0).clientHeight)),i.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,i=e.current,n=i.$slide;!e.isClosing&&i&&(n.siblings().css({transform:"",opacity:""}),n.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),p.fancybox.animate(n,{top:0,left:0,opacity:1},t===m?0:t,function(){n.css({transform:"",opacity:""}),i.isComplete||e.complete()},!1))},isMoved:function(t){var e,i=t||this.current;return!!i&&(e=p.fancybox.getTranslate(this.$refs.stage),t=p.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(t.top-e.top)||.5<Math.abs(t.left-e.left)))},updateCursor:function(t,e){var i=this,n=i.current,o=i.$refs.container;n&&!i.isClosing&&i.Guestures&&(o.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),e=!!(t=i.canPan(t,e))||i.isZoomable(),o.toggleClass("fancybox-is-zoomable",e),p("[data-fancybox-zoom]").prop("disabled",!e),t?o.addClass("fancybox-can-pan"):e&&("zoom"===n.opts.clickContent||p.isFunction(n.opts.clickContent)&&"zoom"==n.opts.clickContent(n))?o.addClass("fancybox-can-zoomIn"):n.opts.touch&&(n.opts.touch.vertical||1<i.group.length)&&"video"!==n.contentType&&o.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if((t=this.getFitPos(e))&&(e.width>t.width||e.height>t.height))return!0}return!1},isScaledDown:function(t,e){var i=!1,n=this.current,o=n.$content;return t!==m&&e!==m?i=t<n.width&&e<n.height:o&&(i=(i=p.fancybox.getTranslate(o)).width<n.width&&i.height<n.height),i},canPan:function(t,e){var i=this.current,n=null,o=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(o=this.getFitPos(i),t!==m&&e!==m?n={width:t,height:e}:i.isComplete&&(n=p.fancybox.getTranslate(i.$content)),n&&o&&(o=1.5<Math.abs(n.width-o.width)||1.5<Math.abs(n.height-o.height))),o},loadSlide:function(i){var t,e,n,o=this;if(!i.isLoading&&!i.isLoaded){if(!(i.isLoading=!0)===o.trigger("beforeLoad",i))return i.isLoading=!1;switch(t=i.type,(e=i.$slide).off("refresh").trigger("onReset").addClass(i.opts.slideClass),t){case"image":o.setImage(i);break;case"iframe":o.setIframe(i);break;case"html":o.setContent(i,i.src||i.content);break;case"video":o.setContent(i,i.opts.video.tpl.replace(/\{\{src\}\}/gi,i.src).replace("{{format}}",i.opts.videoFormat||i.opts.video.format||"").replace("{{poster}}",i.thumb||""));break;case"inline":p(i.src).length?o.setContent(i,p(i.src)):o.setError(i);break;case"ajax":o.showLoading(i),n=p.ajax(p.extend({},i.opts.ajax.settings,{url:i.src,success:function(t,e){"success"===e&&o.setContent(i,t)},error:function(t,e){t&&"abort"!==e&&o.setError(i)}})),e.one("onReset",function(){n.abort()});break;default:o.setError(i)}return!0}},setImage:function(e){var t,i=this;setTimeout(function(){var t=e.$image;i.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||i.showLoading(e)},50),i.checkSrcset(e),e.$content=p('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(t=a.createElement("img")).onerror=function(){p(this).remove(),e.$ghost=null},t.onload=function(){i.afterLoad(e)},e.$ghost=p(t).addClass("fancybox-image").appendTo(e.$content).attr("src",e.thumb)),i.setBigImage(e)},checkSrcset:function(t){var e,i,n,o,s=t.opts.srcset||t.opts.image.srcset;if(s){n=l.devicePixelRatio||1,o=l.innerWidth*n,(i=s.split(",").map(function(t){var n={};return t.trim().split(/\s+/).forEach(function(t,e){var i=parseInt(t.substring(0,t.length-1),10);if(0===e)return n.url=t;i&&(n.value=i,n.postfix=t[t.length-1])}),n})).sort(function(t,e){return t.value-e.value});for(var a=0;a<i.length;a++){var r=i[a];if("w"===r.postfix&&r.value>=o||"x"===r.postfix&&r.value>=n){e=r;break}}(e=!e&&i.length?i[i.length-1]:e)&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value),t.opts.srcset=s)}},setBigImage:function(e){var i=this,t=a.createElement("img"),n=p(t);e.$image=n.one("error",function(){i.setError(e)}).one("load",function(){var t;e.$ghost||(i.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),i.afterLoad(e)),i.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<o.width()/o.height()?"100":Math.round(e.width/e.height*100))+"vw"),n.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!i.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),i.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(t.complete||"complete"==t.readyState)&&n.naturalWidth&&n.naturalHeight?n.trigger("load"):t.error&&n.trigger("error")},resolveImageSlideSize:function(t,e,i){var n=parseInt(t.opts.width,10),o=parseInt(t.opts.height,10);t.width=e,t.height=i,0<n&&(t.width=n,t.height=Math.floor(n*i/e)),0<o&&(t.width=Math.floor(o*e/i),t.height=o)},setIframe:function(o){var s,e=this,a=o.opts.iframe,r=o.$slide;o.$content=p('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(r),r.addClass("fancybox-slide--"+o.contentType),o.$iframe=s=p(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(o.$content),a.preload?(e.showLoading(o),s.on("load.fb error.fb",function(t){this.isReady=1,o.$slide.trigger("refresh"),e.afterLoad(o)}),r.on("refresh.fb",function(){var t,e=o.$content,i=a.css.width,n=a.css.height;if(1===s[0].isReady){try{t=s.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(r.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),i===m&&(i=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),e.css("width",i||"").css("max-width",""),n===m&&(n=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),e.css("height",n||""),r.css("overflow","auto")),e.removeClass("fancybox-is-hidden")}})):e.afterLoad(o),s.attr("src",o.src),r.one("onReset",function(){try{p(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}p(this).off("refresh.fb").empty(),o.isLoaded=!1,o.isRevealed=!1})},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$content&&p.fancybox.stop(t.$content),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof p&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=p("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===p.type(e)&&(e=p("<div>").append(p.trim(e)).contents()),t.opts.filter&&(e=p("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){p(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(p(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),p(e).appendTo(t.$slide),p(e).is("video,audio")&&(p(e).addClass("fancybox-video"),p(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||p(e).attr("width"),t.opts.height=t.opts.height||p(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=p(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=p(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&p('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e=this,i=t||e.current,n=i.opts.caption,o=i.opts.preventCaptionOverlap,s=e.$refs.caption,t=!1;s.toggleClass("fancybox-caption--separate",o),o&&n&&n.length&&(i.pos!==e.currPos?((s=s.clone().appendTo(s.parent())).children().eq(0).empty().html(n),t=s.outerHeight(!0),s.empty().remove()):e.$caption&&(t=e.$caption.outerHeight(!0)),i.$slide.css("padding-bottom",t||""))},adjustLayout:function(t){var e,i,n,o=t||this.current;o.isLoaded&&!0!==o.opts.disableLayoutFix&&(o.$content.css("margin-bottom",""),o.$content.outerHeight()>o.$slide.height()+.5&&(i=o.$slide[0].style["padding-bottom"],n=o.$slide.css("padding-bottom"),0<parseFloat(n)&&(t=o.$slide[0].scrollHeight,o.$slide.css("padding-bottom",0),Math.abs(t-o.$slide[0].scrollHeight)<1&&(e=n),o.$slide.css("padding-bottom",i))),o.$content.css("margin-bottom",e))},revealContent:function(t){var e,i,n,o,s=this,a=t.$slide,r=!1,l=!1,c=s.isMoved(t),h=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],n=t.opts[s.firstRun?"animationDuration":"transitionDuration"],n=parseInt(t.forcedDuration===m?n:t.forcedDuration,10),"zoom"===(e=c||t.pos!==s.currPos||!n?!1:e)&&(t.pos===s.currPos&&n&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?r=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,r.scaleX=r.width/l.width,r.scaleY=r.height/l.height,(o="auto"==(o=t.opts.zoomOpacity)?.1<Math.abs(t.width/t.height-l.width/l.height):o)&&(l.opacity=.1,r.opacity=1),p.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),u(t.$content),void p.fancybox.animate(t.$content,r,n,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(p.fancybox.stop(a),i="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,a.addClass(i).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),u(a),"image"!==t.type&&t.$content.hide().show(0),void p.fancybox.animate(a,"fancybox-slide--current",n,function(){a.removeClass(i).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),h||!c||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,i,n,o=t.$thumb;return!!(o&&(i=o[0])&&i.ownerDocument===a&&(p(".fancybox-container").css("pointer-events","none"),n={x:i.getBoundingClientRect().left+i.offsetWidth/2,y:i.getBoundingClientRect().top+i.offsetHeight/2},i=a.elementFromPoint(n.x,n.y)===i,p(".fancybox-container").css("pointer-events",""),i))&&(e=p.fancybox.getTranslate(o),t=parseFloat(o.css("border-top-width")||0),n=parseFloat(o.css("border-right-width")||0),i=parseFloat(o.css("border-bottom-width")||0),o=parseFloat(o.css("border-left-width")||0),i={top:e.top+t,left:e.left+o,width:e.width-n-o,height:e.height-t-i,scaleX:1,scaleY:1},0<e.width&&0<e.height&&i)},complete:function(){var t,i=this,e=i.current,n={};!i.isMoved()&&e.isLoaded&&(e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),i.preload("inline"),u(e.$slide),e.$slide.addClass("fancybox-slide--complete"),p.each(i.slides,function(t,e){e.pos>=i.currPos-1&&e.pos<=i.currPos+1?n[e.pos]=e:e&&(p.fancybox.stop(e.$slide),e.$slide.off().remove())}),i.slides=n),i.isAnimating=!1,i.updateCursor(),i.trigger("afterShow"),e.opts.video.autoStart&&e.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),i.next()}),e.opts.autoFocus&&"html"===e.contentType&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):i.focus(null,!0)),e.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,i,n=this;n.group.length<2||(i=n.slides[n.currPos+1],(e=n.slides[n.currPos-1])&&e.type===t&&n.loadSlide(e),i&&i.type===t&&n.loadSlide(i))},focus:function(t,e){var i=this,n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");i.isClosing||((e=(e=!t&&i.current&&i.current.isComplete?i.current.$slide.find("*:visible"+(e?":not(.fancybox-close-small)":"")):i.$refs.container.find("*:visible")).filter(n).filter(function(){return"hidden"!==p(this).css("visibility")&&!p(this).hasClass("disabled")})).length?(n=e.index(a.activeElement),t&&t.shiftKey?(n<0||0==n)&&(t.preventDefault(),e.eq(e.length-1).trigger("focus")):(n<0||n==e.length-1)&&(t&&t.preventDefault(),e.eq(0).trigger("focus"))):i.$refs.container.trigger("focus"))},activate:function(){var e=this;p(".fancybox-container").each(function(){var t=p(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function i(){l.cleanUp(t)}var n,o,s,a,r,l=this,c=l.current;return!l.isClosing&&(!(l.isClosing=!0)===l.trigger("beforeClose",t)?(l.isClosing=!1,h(function(){l.update()}),!1):(l.removeEvents(),s=c.$content,n=c.opts.animationEffect,o=p.isNumeric(e)?e:n?c.opts.animationDuration:0,c.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?p.fancybox.stop(c.$slide):n=!1,c.$slide.siblings().trigger("onReset").remove(),o&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",o+"ms"),l.hideLoading(c),l.hideControls(!0),l.updateCursor(),"zoom"===(n=!("zoom"!==n||s&&o&&"image"===c.type&&!l.isMoved()&&!c.hasError&&(r=l.getThumbPos(c)))?"fade":n)?(p.fancybox.stop(s),e={top:(a=p.fancybox.getTranslate(s)).top,left:a.left,scaleX:a.width/r.width,scaleY:a.height/r.height,width:r.width,height:r.height},(a="auto"==(a=c.opts.zoomOpacity)?.1<Math.abs(c.width/c.height-r.width/r.height):a)&&(r.opacity=0),p.fancybox.setTranslate(s,e),u(s),p.fancybox.animate(s,r,o,i)):n&&o?p.fancybox.animate(c.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,o,i):!0===t?setTimeout(i,o):i(),!0))},cleanUp:function(t){var e,i=this,n=i.current.opts.$orig;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.current.opts.backFocus&&(n=n&&n.length&&n.is(":visible")?n:i.$trigger)&&n.length&&(e=l.scrollX,t=l.scrollY,n.trigger("focus"),p("html, body").scrollTop(t).scrollLeft(e)),i.current=null,(i=p.fancybox.getInstance())?i.activate():(p("body").removeClass("fancybox-active compensate-for-scrollbar"),p("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,n=Array.prototype.slice.call(arguments,1),o=this,e=e&&e.opts?e:o.current;if(e?n.unshift(e):e=o,n.unshift(o),!1===(i=p.isFunction(e.opts[t])?e.opts[t].apply(e,n):i))return i;("afterClose"!==t&&o.$refs?o.$refs.container:s).trigger(t+".fb",n)},updateControls:function(){var t=this,e=t.current,i=e.index,n=t.$refs.container,o=t.$refs.caption,s=e.opts.caption;e.$slide.trigger("refresh"),s&&s.length?(t.$caption=o).children().eq(0).html(s):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),n.find("[data-fancybox-count]").html(t.group.length),n.find("[data-fancybox-index]").html(i+1),n.find("[data-fancybox-prev]").prop("disabled",!e.opts.loop&&i<=0),n.find("[data-fancybox-next]").prop("disabled",!e.opts.loop&&i>=t.group.length-1),"image"===e.type?n.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&n.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),p(a.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=(t.current||t).opts,i=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),p.fancybox={version:"3.5.7",defaults:t,getInstance:function(t){var e=p('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof n&&("string"===p.type(t)?e[t].apply(e,i):"function"===p.type(t)&&t.apply(e,i),e)},open:function(t,e,i){return new n(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(t=a.createElement("div"),l.getComputedStyle&&l.getComputedStyle(t)&&l.getComputedStyle(t).getPropertyValue("transform")&&!(a.documentMode&&a.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var i="",n={};if(t&&e)return e.left===m&&e.top===m||(i=(e.left===m?t.position():e).left+"px, "+(e.top===m?t.position():e).top+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),e.scaleX!==m&&e.scaleY!==m?i+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==m&&(i+=" scaleX("+e.scaleX+")"),i.length&&(n.transform=i),e.opacity!==m&&(n.opacity=e.opacity),e.width!==m&&(n.width=e.width),e.height!==m&&(n.height=e.height),t.css(n)},animate:function(e,i,n,o,s){var a,r=this;p.isFunction(n)&&(o=n,n=null),r.stop(e),a=r.getTranslate(e),e.on(c,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(r.stop(e),p.isNumeric(n)&&e.css("transition-duration",""),p.isPlainObject(i)?i.scaleX!==m&&i.scaleY!==m&&r.setTranslate(e,{top:i.top,left:i.left,width:a.width*i.scaleX,height:a.height*i.scaleY,scaleX:1,scaleY:1}):!0!==s&&e.removeClass(i),p.isFunction(o)&&o(t))}),p.isNumeric(n)&&e.css("transition-duration",n+"ms"),p.isPlainObject(i)?(i.scaleX!==m&&i.scaleY!==m&&(delete i.width,delete i.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),p.fancybox.setTranslate(e,i)):e.addClass(i),e.data("timer",setTimeout(function(){e.trigger(c)},n+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(c),t.off(c).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},p.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?p("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},v):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},v),this},s.on("click.fb-start","[data-fancybox]",v),s.on("click.fb-start","[data-fancybox-trigger]",function(t){p('[data-fancybox="'+p(this).attr("data-fancybox-trigger")+'"]').eq(p(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:p(this)})}),i=".fancybox-button",f="fancybox-focus",g=null,s.on("mousedown mouseup focus blur",i,function(t){switch(t.type){case"mousedown":g=p(this);break;case"mouseup":g=null;break;case"focusin":p(i).removeClass(f),p(this).is(g)||p(this).is("[disabled]")||p(this).addClass(f);break;case"focusout":p(i).removeClass(f)}})))}(window,document,jQuery),function(f){"use strict";function p(i,t,e){if(i)return"object"===f.type(e=e||"")&&(e=f.param(e,!0)),f.each(t,function(t,e){i=i.replace("$"+t,e||"")}),e.length&&(i+=(0<i.indexOf("?")?"&":"?")+e),i}var n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};f(document).on("objectNeedsType.fb",function(t,e,o){var s,a,r,l,c,h,d=o.src||"",u=!1,i=f.extend(!0,{},n,o.opts.media);f.each(i,function(t,e){if(a=d.match(e.matcher)){if(u=e.type,h=t,c={},e.paramPlace&&a[e.paramPlace]){l=(l="?"==(l=a[e.paramPlace])[0]?l.substring(1):l).split("&");for(var i=0;i<l.length;++i){var n=l[i].split("=",2);2==n.length&&(c[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}}return r=f.extend(!0,{},e.params,o.opts[t],c),d="function"===f.type(e.url)?e.url.call(this,a,r,o):p(e.url,a,r),s="function"===f.type(e.thumb)?e.thumb.call(this,a,r,o):p(e.thumb,a),"youtube"===t?d=d.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,i,n){return"&start="+((i?60*parseInt(i,10):0)+parseInt(n,10))}):"vimeo"===t&&(d=d.replace("&%23","#")),!1}}),u?(o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=s),"iframe"===u&&(o.opts=f.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),f.extend(o,{type:u,src:d,origSrc:o.src,contentSource:h,contentType:"image"===u?"image":"gmap_place"==h||"gmap_search"==h?"map":"video"})):d&&(o.type=o.opts.defaultType)});var o={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,i=this;this[t].loaded?setTimeout(function(){i.done(t)}):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){i[t].loaded=!0,i.done(t)}:e.onload=function(){i[t].loaded=!0,i.done(t)},document.body.appendChild(e))},done:function(t){var e,i;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(e=f.fancybox.getInstance())&&(i=e.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(i.attr("id"),{events:{onStateChange:function(t){0==t.data&&e.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(i).on("ended",function(){e.next()}))}};f(document).on({"afterShow.fb":function(t,e,i){1<e.group.length&&("youtube"===i.contentSource||"vimeo"===i.contentSource)&&o.load(i.contentSource)}})}(jQuery),function(h,l,d){"use strict";function u(t){var e,i=[];for(e in t=(t=t.originalEvent||t||h.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[e].pageX?i.push({x:t[e].pageX,y:t[e].pageY}):t[e].clientX&&i.push({x:t[e].clientX,y:t[e].clientY});return i}function f(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function c(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||d.isFunction(t.get(0).onclick)||t.data("selectable"))return 1;for(var e=0,i=t[0].attributes,n=i.length;e<n;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return 1}function p(t){for(var e,i,n,o=!1;;){if(e=t.get(0),i=n=i=void 0,i=h.getComputedStyle(e)["overflow-y"],n=h.getComputedStyle(e)["overflow-x"],i=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,e=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth,o=i||e)break;if(!(t=t.parent()).length||t.hasClass("fancybox-stage")||t.is("body"))break}return o}function i(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",d.proxy(e,"ontouchstart"))}var m=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(t){return h.setTimeout(t,1e3/60)},g=h.cancelAnimationFrame||h.webkitCancelAnimationFrame||h.mozCancelAnimationFrame||h.oCancelAnimationFrame||function(t){h.clearTimeout(t)};i.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),d(l).off(".fb.touch"),t.requestId&&(g(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},i.prototype.ontouchstart=function(t){var e=this,i=d(t.target),n=e.instance,o=n.current,s=o.$slide,a=o.$content,r="touchstart"==t.type;if(r&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&s.length&&i.length&&!c(i)&&!c(i.parent())&&(i.is("img")||!(t.originalEvent.clientX>i[0].clientWidth+i.offset().left))){if(!o||n.isAnimating||o.$slide.hasClass("fancybox-animated"))return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=u(t),e.startPoints.length&&(o.touch&&t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=i,e.$content=a,e.opts=o.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=n.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(s[0].clientWidth),e.canvasHeight=Math.round(s[0].clientHeight),e.contentLastPos=null,e.contentStartPos=d.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=d.fancybox.getTranslate(s),e.stagePos=d.fancybox.getTranslate(n.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,d(l).off(".fb.touch").on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",d.proxy(e,"ontouchend")).on(r?"touchmove.fb.touch":"mousemove.fb.touch",d.proxy(e,"ontouchmove")),d.fancybox.isMobile&&l.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(i.is(e.$stage)||e.$stage.find(i).length)||(i.is(".fancybox-image")&&t.preventDefault(),d.fancybox.isMobile&&i.parents(".fancybox-caption").length))&&(e.isScrollable=p(i)||p(i.parent()),d.fancybox.isMobile&&e.isScrollable||t.preventDefault(),1!==e.startPoints.length&&!o.hasError||(e.canPan?(d.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===o.type&&(o.isLoaded||o.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,d.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-d(h).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-d(h).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=f(e.startPoints[0],e.startPoints[1]))))}},i.prototype.onscroll=function(t){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},i.prototype.ontouchmove=function(t){var e=this;void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling?e.canTap=!1:(e.newPoints=u(t),(e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=f(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=f(e.newPoints[0],e.startPoints[0],"y"),e.distance=f(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},i.prototype.onSwipe=function(t){var o=this,s=o.instance,e=o.isSwiping,i=o.sliderStartPos.left||0;if(!0!==e)"x"==e&&(0<o.distanceX&&(o.instance.group.length<2||0===o.instance.current.index&&!o.instance.current.opts.loop)?i+=Math.pow(o.distanceX,.8):o.distanceX<0&&(o.instance.group.length<2||o.instance.current.index===o.instance.group.length-1&&!o.instance.current.opts.loop)?i-=Math.pow(-o.distanceX,.8):i+=o.distanceX),o.sliderLastPos={top:"x"==e?0:o.sliderStartPos.top+o.distanceY,left:i},o.requestId&&(g(o.requestId),o.requestId=null),o.requestId=m(function(){o.sliderLastPos&&(d.each(o.instance.slides,function(t,e){var i=e.pos-o.instance.currPos;d.fancybox.setTranslate(e.$slide,{top:o.sliderLastPos.top,left:o.sliderLastPos.left+i*o.canvasWidth+i*e.opts.gutter})}),o.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(o.distance)){if(o.canTap=!1,s.group.length<2&&o.opts.vertical?o.isSwiping="y":s.isDragging||!1===o.opts.vertical||"auto"===o.opts.vertical&&800<d(h).width()?o.isSwiping="x":(i=Math.abs(180*Math.atan2(o.distanceY,o.distanceX)/Math.PI),o.isSwiping=45<i&&i<135?"y":"x"),"y"===o.isSwiping&&d.fancybox.isMobile&&o.isScrollable)return void(o.isScrolling=!0);s.isDragging=o.isSwiping,o.startPoints=o.newPoints,d.each(s.slides,function(t,e){var i,n;d.fancybox.stop(e.$slide),i=d.fancybox.getTranslate(e.$slide),n=d.fancybox.getTranslate(s.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===s.current.pos&&(o.sliderStartPos.top=i.top-n.top,o.sliderStartPos.left=i.left-n.left),d.fancybox.setTranslate(e.$slide,{top:i.top-n.top,left:i.left-n.left})}),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()}},i.prototype.onPan=function(){var t=this;f(t.newPoints[0],t.realPoints[0])<(d.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&g(t.requestId),t.requestId=m(function(){d.fancybox.setTranslate(t.$content,t.contentLastPos)}))},i.prototype.limitMovement=function(){var t=this,e=t.canvasWidth,i=t.canvasHeight,n=t.distanceX,o=t.distanceY,s=t.contentStartPos,a=s.left,r=s.top,l=s.width,c=s.height,h=e<l?a+n:a,d=r+o,t=Math.max(0,.5*e-.5*l),s=Math.max(0,.5*i-.5*c),l=Math.min(e-l,.5*e-.5*l),c=Math.min(i-c,.5*i-.5*c);return 0<n&&t<h&&(h=t-1+Math.pow(-t+a+n,.8)||0),n<0&&h<l&&(h=l+1-Math.pow(l-a-n,.8)||0),0<o&&s<d&&(d=s-1+Math.pow(-s+r+o,.8)||0),{top:d=o<0&&d<c?c+1-Math.pow(c-r-o,.8)||0:d,left:h}},i.prototype.limitPosition=function(t,e,i,n){var o=this.canvasWidth,s=this.canvasHeight;return t=o<i?(t=0<t?0:t)<o-i?o-i:t:Math.max(0,o/2-i/2),{top:e=s<n?(e=0<e?0:e)<s-n?s-n:e:Math.max(0,s/2-n/2),left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos,i=e.width,n=e.height,o=e.left,s=e.top,a=f(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(i*a),l=Math.floor(n*a),c=(i-r)*t.percentageOfImageAtPinchPointX,e=(n-l)*t.percentageOfImageAtPinchPointY,i=(t.newPoints[0].x+t.newPoints[1].x)/2-d(h).scrollLeft(),n=(t.newPoints[0].y+t.newPoints[1].y)/2-d(h).scrollTop(),i=i-t.centerPointStartX,a={top:s+(e+(n-t.centerPointStartY)),left:o+(c+i),scaleX:a,scaleY:a};t.canTap=!1,t.newWidth=r,t.newHeight=l,t.contentLastPos=a,t.requestId&&g(t.requestId),t.requestId=m(function(){d.fancybox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,i=e.isSwiping,n=e.isPanning,o=e.isZooming,s=e.isScrolling;if(e.endPoints=u(t),e.dMs=Math.max((new Date).getTime()-e.startTime,1),e.$container.removeClass("fancybox-is-grabbing"),d(l).off(".fb.touch"),l.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(g(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap)return e.onTap(t);e.speed=100,e.velocityX=e.distanceX/e.dMs*.5,e.velocityY=e.distanceY/e.dMs*.5,n?e.endPanning():o?e.endZooming():e.endSwiping(i,s)},i.prototype.endSwiping=function(t,e){var i=this,n=!1,o=i.instance.group.length,s=Math.abs(i.distanceX),s="x"==t&&1<o&&(130<i.dMs&&10<s||50<s);i.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(i.distanceY)?(d.fancybox.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),n=i.instance.close(!0,250)):s&&0<i.distanceX?n=i.instance.previous(300):s&&i.distanceX<0&&(n=i.instance.next(300)),!1!==n||"x"!=t&&"y"!=t||i.instance.centerSlide(200),i.$container.removeClass("fancybox-is-sliding")},i.prototype.endPanning=function(){var t,e,i=this;i.contentLastPos&&(e=!1===i.opts.momentum||350<i.dMs?(t=i.contentLastPos.left,i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,i.contentLastPos.top+500*i.velocityY),(e=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,e.height=i.contentStartPos.height,d.fancybox.animate(i.$content,e,366))},i.prototype.endZooming=function(){var t,e,i=this,n=i.instance.current,o=i.newWidth,s=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,e=i.contentLastPos.top,d.fancybox.setTranslate(i.$content,{top:e,left:t,width:o,height:s,scaleX:1,scaleY:1}),o<i.canvasWidth&&s<i.canvasHeight?i.instance.scaleToFit(150):o>n.width||s>n.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(s=i.limitPosition(t,e,o,s),d.fancybox.animate(i.$content,s,150)))},i.prototype.onTap=function(e){function t(t){if(t=a.opts[t],t=d.isFunction(t)?t.apply(s,[a,e]):t)switch(t){case"close":s.close(n.startEvent);break;case"toggleControls":s.toggleControls();break;case"next":s.next();break;case"nextOrClose":1<s.group.length?s.next():s.close(n.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,c):s.group.length<2&&s.close(n.startEvent))}}var i,n=this,o=d(e.target),s=n.instance,a=s.current,r=e&&u(e)||n.startPoints,l=r[0]?r[0].x-d(h).scrollLeft()-n.stagePos.left:0,c=r[0]?r[0].y-d(h).scrollTop()-n.stagePos.top:0;if((!e.originalEvent||2!=e.originalEvent.button)&&(o.is("img")||!(l>o[0].clientWidth+o.offset().left))){if(o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))i="Outside";else if(o.is(".fancybox-slide"))i="Slide";else{if(!s.current.$content||!s.current.$content.find(o).addBack().filter(o).length)return;i="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,50<Math.abs(l-n.tapX)||50<Math.abs(c-n.tapY))return this;t("dblclick"+i)}else n.tapX=l,n.tapY=c,a.opts["dblclick"+i]&&a.opts["dblclick"+i]!==a.opts["click"+i]?n.tapped=setTimeout(function(){n.tapped=null,s.isAnimating||t("click"+i)},500):t("click"+i);return this}},d(l).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(s,a){"use strict";a.extend(!0,a.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function i(t){this.instance=t,this.init()}a.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,e=t.instance,i=e.group[e.currIndex].opts.slideShow;t.$button=e.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),e.group.length<2||!i?t.$button.hide():i.progress&&(t.$progress=a('<div class="fancybox-progress"></div>').appendTo(e.$refs.inner))},set:function(t){var e=this,i=e.instance,n=i.current;n&&(!0===t||n.opts.loop||i.currIndex<i.group.length-1)?e.isActive&&"video"!==n.contentType&&(e.$progress&&a.fancybox.animate(e.$progress.show(),{scaleX:1},n.opts.slideShow.speed),e.timer=setTimeout(function(){i.current.opts.loop||i.current.index!=i.group.length-1?i.next():i.jumpTo(0)},n.opts.slideShow.speed)):(e.stop(),i.idleSecondsCounter=0,i.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),a(s).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,n){e=e&&e.SlideShow;n?e&&i.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.fb":function(t,e,i){e=e&&e.SlideShow;e&&e.isActive&&e.set()},"afterKeydown.fb":function(t,e,i,n,o){e=e&&e.SlideShow;!e||!i.opts.slideShow||80!==o&&32!==o||a(s.activeElement).is("button,a,input")||(n.preventDefault(),e.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){e=e&&e.SlideShow;e&&e.stop()}}),a(s).on("visibilitychange",function(){var t=a.fancybox.getInstance(),t=t&&t.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,jQuery),function(s,i){"use strict";var n,o=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},i=0;i<t.length;i++){var n=t[i];if(n&&n[1]in s){for(var o=0;o<n.length;o++)e[t[0][o]]=n[o];return e}}return!1}();o&&(i.extend(!0,i.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!(n={request:function(t){(t=t||s.documentElement)[o.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){s[o.exitFullscreen]()},toggle:function(t){t=t||s.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(s[o.fullscreenElement])},enabled:function(){return Boolean(s[o.fullscreenEnabled])}})}}),i(s).on(o.fullscreenchange,function(){var t=n.isFullscreen(),e=i.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.isAnimating=!1,e.update(!0,!0,0),e.isComplete||e.complete()),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t),e.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})),i(s).on({"onInit.fb":function(t,e){o?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(),e.FullScreen=n):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,i,n,o){e&&e.FullScreen&&70===o&&(n.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&n.exit()}})}(document,jQuery),function(t,s){"use strict";var a="fancybox-thumbs",r=a+"-active";s.fancybox.defaults=s.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},s.fancybox.defaults);function n(t){this.init(t)}s.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,i=t.group,n=0;e.instance=t,e.opts=i[t.currIndex].opts.thumbs,(t.Thumbs=e).$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var o=0,s=i.length;o<s&&(i[o].thumb&&n++,!(1<n));o++);1<n&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var i,t=this,e=t.instance,n=t.opts.parentEl,o=[];t.$grid||(t.$grid=s('<div class="'+a+" "+a+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(n).addBack().filter(n)),t.$grid.on("click","a",function(){e.jumpTo(s(this).attr("data-index"))})),t.$list||(t.$list=s('<div class="'+a+'__list">').appendTo(t.$grid)),s.each(e.group,function(t,e){(i=e.thumb)||"image"!==e.type||(i=e.src),o.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(i&&i.length?' style="background-image:url('+i+')"':'class="fancybox-thumbs-missing"')+"></a>")}),t.$list[0].innerHTML=o.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,i,n=this,o=n.$list,s=n.$grid;n.instance.current&&(i=(e=o.children().removeClass(r).filter('[data-index="'+n.instance.current.index+'"]').addClass(r)).position(),"y"===n.opts.axis&&(i.top<0||i.top>o.height()-e.outerHeight())?o.stop().animate({scrollTop:o.scrollTop()+i.top},t):"x"===n.opts.axis&&(i.left<s.scrollLeft()||i.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&o.parent().stop().animate({scrollLeft:i.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(t).on({"onInit.fb":function(t,e){var i;e&&!e.Thumbs&&(i=new n(e)).isActive&&!0===i.opts.autoStart&&i.show()},"beforeShow.fb":function(t,e,i,n){e=e&&e.Thumbs;e&&e.isVisible&&e.focus(n?0:250)},"afterKeydown.fb":function(t,e,i,n,o){e=e&&e.Thumbs;e&&e.isActive&&71===o&&(n.preventDefault(),e.toggle())},"beforeClose.fb":function(t,e){e=e&&e.Thumbs;e&&e.isVisible&&!1!==e.opts.hideOnClose&&e.$grid.hide()}})}(document,jQuery),function(t,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),o(t).on("click","[data-fancybox-share]",function(){var t,e,i=o.fancybox.getInstance(),n=i.current||null;n&&("function"===o.type(n.opts.share.url)&&(t=n.opts.share.url.apply(n,[i,n])),t=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]}))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),o.fancybox.open({src:i.translate(i,t),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(s,a,n){"use strict";function o(){var t=s.location.hash.substr(1),e=t.split("-"),i=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:i<1?1:i,gallery:e.join("-")}}function e(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function r(t){return!!t&&(""!==(t=(t=(t.current||t).opts).hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""))&&t)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(a).on({"onInit.fb":function(t,e){var i,n;!1!==e.group[e.currIndex].opts.hash&&(i=o(),(n=r(e))&&i.gallery&&n==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(t,e,i,n){var o;i&&!1!==i.opts.hash&&(o=r(e))&&(e.currentHash=o+(1<e.group.length?"-"+(i.index+1):""),s.location.hash!=="#"+e.currentHash&&(n&&!e.origHash&&(e.origHash=s.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in s.history?(s.history[n?"pushState":"replaceState"]({},a.title,s.location.pathname+s.location.search+"#"+e.currentHash),n&&(e.hasCreatedHistory=!0)):s.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,i){i&&!1!==i.opts.hash&&(clearTimeout(e.hashTimer),e.currentHash&&e.hasCreatedHistory?s.history.back():e.currentHash&&("replaceState"in s.history?s.history.replaceState({},a.title,s.location.pathname+s.location.search+(e.origHash||"")):s.location.hash=e.origHash),e.currentHash=null)}}),n(s).on("hashchange.fb",function(){var t=o(),i=null;n.each(n(".fancybox-container").get().reverse(),function(t,e){e=n(e).data("FancyBox");if(e&&e.currentHash)return i=e,!1}),i?i.currentHash===t.gallery+"-"+t.index||1===t.index&&i.currentHash==t.gallery||(i.currentHash=null,i.close()):""!==t.gallery&&e(t)}),setTimeout(function(){n.fancybox.getInstance()||e(o())},50))})}(window,document,jQuery),function(t,e){"use strict";var o=(new Date).getTime();e(t).on({"onInit.fb":function(t,n,e){n.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=n.current,i=(new Date).getTime();n.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-o<250||(o=i,n[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,d=void 0===n?function(){}:function(t){n.error(t)};function o(l,c,h){(h=h||e||t.jQuery)&&(c.prototype.option||(c.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))}),h.fn[l]=function(t){if("string"!=typeof t)return r=t,this.each(function(t,e){var i=h.data(e,l);i?(i.option(r),i._init()):(i=new c(e,r),h.data(e,l,i))}),this;var n,o,s,a,r,e=i.call(arguments,1);return o=e,a="$()."+l+'("'+(n=t)+'")',(t=this).each(function(t,e){var i=h.data(e,l);i?(e=i[n])&&"_"!=n.charAt(0)?(i=e.apply(i,o),s=void 0===s?i:s):d(a+" is not a valid method"):d(l+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==s?s:t},s(h))}function s(t){t&&!t.bridget&&(t.bridget=o)}return s(e||t.jQuery),o}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},t=i[t]=i[t]||[];return-1==t.indexOf(e)&&t.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length){e=t.indexOf(e);return-1!=e&&t.splice(e,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var s=i[o];n&&n[s]&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function f(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},p=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],m=p.length;function g(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var v,y=!1;function b(t){if(y||(y=!0,(u=document.createElement("div")).style.width="200px",u.style.padding="1px 2px 3px 4px",u.style.borderStyle="solid",u.style.borderWidth="1px 2px 3px 4px",u.style.boxSizing="border-box",(d=document.body||document.documentElement).appendChild(u),h=g(u),v=200==Math.round(f(h.width)),b.isBoxSizeOuter=v,d.removeChild(u)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=g(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<m;e++)t[p[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,o=0;o<m;o++){var s=p[o],a=e[s],a=parseFloat(a);i[s]=isNaN(a)?0:a}var r=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,h=i.marginTop+i.marginBottom,d=i.borderLeftWidth+i.borderRightWidth,u=i.borderTopWidth+i.borderBottomWidth,t=n&&v,n=f(e.width);!1!==n&&(i.width=n+(t?0:r+d));n=f(e.height);return!1!==n&&(i.height=n+(t?0:l+u)),i.innerWidth=i.width-(r+d),i.innerHeight=i.height-(l+u),i.outerWidth=i.width+c,i.outerHeight=i.height+h,i}}return b}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,s){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,s(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){s(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,i=this;this[s]=setTimeout(function(){o.apply(i,e),delete i[s]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var c=i.console;return l.htmlInit=function(a,r){l.docReady(function(){var t=l.toDashed(r),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),t=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",s=i.jQuery;t.forEach(function(e){var t=e.getAttribute(n)||e.getAttribute(o);try{i=t&&JSON.parse(t)}catch(t){return void(c&&c.error("Error parsing "+n+" on "+e.className+": "+t))}var i=new a(e,i);s&&s.data(e,r,i)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(0,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){var e;this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length&&(this.x=t.x,e=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=t.size[e])},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),t=e?e.size[t]:0,t=this.outerWidth-(this.firstMargin+t);this.target=this.x+this.firstMargin+t*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){t.select()})},e.unselect=function(){this.cells.forEach(function(t){t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(0,t.fizzyUIUtils))}(window,function(t,e){var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t,e=this.x;this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&(t=this,requestAnimationFrame(function(){t.animate()}))},positionSlider:function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;t=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+t+",0,0)":"translateX("+t+")"},dispatchScrollEvent:function(){var t,e=this.slides[0];e&&(e=(t=-this.x-e.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[e,t]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);t=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,t,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];o.wrapShift(0<e?i:0),e-=o.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var t;this.isDraggable&&this.isPointerDown&&(t=this.dragX-this.x-this.velocity,this.applyForce(t))},applySelectedAttraction:function(){var t;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(t))}};return i}),function(a,r){var t;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,o,s){return r(a,t,e,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=r(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(t=a.Flickity,a.Flickity=r(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype))}(window,function(n,t,e,a,i,r,o){var s=n.jQuery,l=n.getComputedStyle,c=n.console;function h(t,e){for(t=a.makeArray(t);t.length;)e.appendChild(t.shift())}var d=0,u={};function f(t,e){var i=a.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=u[this.element.flickityGUID];return n.option(e),n}s&&(this.$element=s(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var p=f.prototype;a.extend(p,t.prototype),p._create=function(){var t,e=this.guid=++d;for(t in this.element.flickityGUID=e,(u[e]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[t];this.on(t,i)}f.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){a.extend(this.options,t)},p.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),h(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){this.maxCellHeight=(t=t||0)&&this.maxCellHeight||0;var e,i=0;0<t&&(i=(e=this.cells[t-1]).x+e.size.outerWidth);for(var n=this.cells.length,o=t;o<n;o++){var s=this.cells[o];s.setPosition(i),i+=s.size.outerWidth,this.maxCellHeight=Math.max(s.size.outerHeight,this.maxCellHeight)}this.slideableWidth=i,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){var n,o,s;this.slides=[],this.cells.length&&(n=new r(this),this.slides.push(n),o="left"==this.originSide?"marginRight":"marginLeft",s=this._getCanCellFit(),this.cells.forEach(function(t,e){var i;n.cells.length&&(i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[o]),s.call(this,e,i)||(n.updateTarget(),n=new r(this),this.slides.push(n))),n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide())},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var t="string"==typeof t&&t.match(/^(\d+)%$/),i=t?parseInt(t[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*i}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){var t;this.options.setGallerySize&&(t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=t+"px")},p._getWrapShiftCells=function(){var t,e;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),t=this.cursorPosition,e=this.cells.length-1,this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1))},p._getGapCells=function(t,e,i){for(var n=[];0<t;){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},p._containSlides=function(){var t,e,i,n,o,s;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(t=(e=this.options.rightToLeft)?"marginRight":"marginLeft",e=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[e],n=i<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[t],s=i-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(t){n?t.target=i*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,s))},this))},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),s&&this.$element&&(n=t+=this.options.namespaceJQueryEvents?".flickity":"",e&&((e=s.Event(e)).type=t,n=e),this.$element.trigger(n,i))},p.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=a.modulo(t,this.slides.length)),this.slides[t]&&(e=this.selectedIndex,this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=e&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")))},p._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=a.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),i=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&i<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t)if(this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},p.selectCell=function(t,e,i){var t=this.queryCell(t);t&&(t=this.getCellSlideIndex(t),this.select(t,e,i))},p.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=a.makeArray(t);var e=[];return t.forEach(function(t){t=this.getCell(t);t&&e.push(t)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e||(t=a.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var s=this.options.wrapAround?a.modulo(o,i):o,s=this.slides[s];s&&(n=n.concat(s.getCellElements()))}return n},p.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#\.]?[\d\/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},p.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(f,"onresize",150),p.resize=function(){var t;this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),t=this.selectedElements&&this.selectedElements[0],this.selectCell(t,!1,!0))},p.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;!this.options.accessibility||e||(t=f.keyboardHandlers[t.keyCode])&&t.call(this)},f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},p.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),s&&this.$element&&s.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},a.extend(p,o),f.data=function(t){t=(t=a.getQueryElement(t))&&t.flickityGUID;return t&&u[t]},a.htmlInit(f,"flickity"),s&&s.bridget&&s.bridget("flickity",f),f.setJQuery=function(t){s=t},f.Cell=i,f.Slide=r,f}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(n,t){function e(){}t=e.prototype=Object.create(t.prototype);t.bindStartEvent=function(t){this._bindStartEvent(t,!0)},t.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},t._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",e="mousedown";n.PointerEvent?e="pointerdown":"ontouchstart"in n&&(e="touchstart"),t[i](e,this)},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},t.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},t.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},t.onpointerdown=function(t){this._pointerDown(t,t)},t._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},t.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var i={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return t._bindPostStartEvents=function(t){t&&((t=i[t.type]).forEach(function(t){n.addEventListener(t,this)},this),this._boundPointerEvents=t)},t._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){n.removeEventListener(t,this)},this),delete this._boundPointerEvents)},t.onmousemove=function(t){this._pointerMove(t,t)},t.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},t.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},t._pointerMove=function(t,e){this.pointerMove(t,e)},t.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},t.onmouseup=function(t){this._pointerUp(t,t)},t.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},t.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},t._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},t.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},t._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},t._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},t.pointerDone=function(){},t.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},t.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},t._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},t.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(s,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,t),o[e]("click",this),s.PointerEvent&&(o.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var n={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=n[t.target.nodeName],t=o[t.target.type],t=!e||t;return t||this._pointerReset(),t},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return o(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=o(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,s){s.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;s.extend(n,e.prototype),n._touchActionValue="pan-y";var o="createTouch"in document,a=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!a&&(i.addEventListener("touchmove",function(){}),a=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var r={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){r[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=r[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){var n,o;this.isDraggable&&(t.preventDefault(),this.previousDragX=this.dragX,o=this.options.rightToLeft?-1:1,this.options.wrapAround&&(i.x=i.x%this.slideableWidth),n=this.dragStartPosition+i.x*o,!this.options.wrapAround&&this.slides.length&&(n=(n=(o=Math.max(-this.slides[0].target,this.dragStartPosition))<n?.5*(n+o):n)<(o=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(n+o):n),this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i]))},n.dragEnd=function(t,e){var i,n;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),i=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(n=this.getRestingPosition(),this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target):this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e]))},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),e=this._getClosestResting(t,e,-1);return(i.distance<e.distance?i:e).index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,o=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};s(e,o)&&(o=e,null!==(e=this.getSlideDistance(-t,n+=i)));)e=Math.abs(e);return{distance:o,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,o=n?s.modulo(e,i):e,o=this.slides[o];if(!o)return null;i=n?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+i)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,i=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,i])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,t=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(t))&&this._pointerDone()},t}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):n(0,t.Flickity,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var o="http://www.w3.org/2000/svg";function s(t,e){this.direction=t,this.parent=e,this._create()}(s.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");t=this.createSVG();e.appendChild(t),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(o,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(o,"path"),i="string"!=typeof(i=this.parent.options.arrowShape)?"M "+i.x0+",50 L "+i.x1+","+(i.y1+50)+" L "+i.x2+","+(i.y2+50)+" L "+i.x3+",50  L "+i.x2+","+(50-i.y2)+" L "+i.x1+","+(50-i.y1)+" Z":i;return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft,t.appendChild(e),t},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){var t;this.isEnabled&&(this.parent.uiChange(),t=this.isPrevious?"previous":"next",this.parent[t]())},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;this.parent.options.wrapAround&&1<t.length?this.enable():(t=t.length?t.length-1:0,t=this.isPrevious?0:t,this[this.parent.selectedIndex==t?"disable":"enable"]())},s.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");n=e.prototype;return n._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},n.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},n.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):n(0,t.Flickity,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,n){function o(t){this.parent=t,this._create()}(o.prototype=Object.create(i.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},o.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+t,s=n;s<o;s++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(s+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(t){var t=t.target;"LI"==t.nodeName&&(this.parent.uiChange(),t=this.dots.indexOf(t),this.parent.select(t))},o.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=o,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");n=e.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){var t,e;"playing"==this.state&&(t="number"==typeof(t=this.parent.options.autoPlay)?t:3e3,(e=this).clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t))},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");e=i.prototype;return e._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},e.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},e.playPlayer=function(){this.player.play()},e.stopPlayer=function(){this.player.stop()},e.pausePlayer=function(){this.player.pause()},e.unpausePlayer=function(){this.player.unpause()},e.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},e.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},e.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i,n,o,s,a=this._makeCells(t);a&&a.length&&(s=this.cells.length,e=void 0===e?s:e,o=a,n=document.createDocumentFragment(),o.forEach(function(t){n.appendChild(t.element)}),i=n,(t=e==s)?this.slider.appendChild(i):(o=this.cells[e].element,this.slider.insertBefore(i,o)),0===e?this.cells=a.concat(this.cells):t?this.cells=this.cells.concat(a):(s=this.cells.splice(e,s-e),this.cells=this.cells.concat(a).concat(s)),this._sizeCells(a),this.cellChange(e,!0))},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var i,t=this.getCells(t);t&&t.length&&(i=this.cells.length-1,t.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0))},i.cellSizeChange=function(t){var t=this.getCell(t);t&&(t.getSize(),t=this.cells.indexOf(t),this.cellChange(t))},i.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();i=this.getCell(i);i&&(this.selectedIndex=this.getCellSlideIndex(i)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,o){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function n(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var e,t=this.options.lazyLoad;t&&(t=this.getAdjacentCellElements("number"==typeof t?t:0),e=[],t.forEach(function(t){t=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}t=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(t)}(t);e=e.concat(t)}),e.forEach(function(t){new n(t,this)},this))},n.prototype.handleEvent=o.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),i=i&&i.element;this.flickity.cellSizeChange(i),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,i)},e.LazyLoader=n,e}),function(t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(t){return t})),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(i,n){i.createMethods.push("_createAsNavFor");var t=i.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t,e=this.options.asNavFor;e&&(t=this,setTimeout(function(){t.setNavCompanion(e)}))},t.setNavCompanion=function(t){t=n.getQueryElement(t);var e,t=i.data(t);t&&t!=this&&(this.navCompanion=t,(e=this).onNavCompanionSelect=function(){e.navCompanionSelect()},t.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},t.navCompanionSelect=function(t){var e,i,n;this.navCompanion&&(i=this.navCompanion.selectedCells[0],e=this.navCompanion.cells.indexOf(i),n=e+this.navCompanion.selectedCells.length-1,i=Math.floor((i=this.navCompanion.cellAlign,(n-e)*i+e)),this.selectCell(i,!1,t),this.removeNavSelectedElements(),i>=this.cells.length||(n=this.cells.slice(e,1+n),this.navSelectedElements=n.map(function(t){return t.element}),this.changeNavSelectedClass("add")))},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},i}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var s=e.jQuery,a=e.console;function r(t,e){for(var i in e)t[i]=e[i];return t}var l=Array.prototype.slice;function c(t,e,i){if(!(this instanceof c))return new c(t,e,i);var n,o=t;(o="string"==typeof t?document.querySelectorAll(t):o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(o||t))}(c.prototype=Object.create(t.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var s=t.querySelectorAll(this.options.background),n=0;n<s.length;n++){var a=s[n];this.addElementBackgroundImages(a)}}};var h={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return c.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},c.prototype.addImage=function(t){t=new i(t);this.images.push(t)},c.prototype.addBackground=function(t,e){e=new n(t,e);this.images.push(e)},c.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},c.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},c.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(c.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(t,e){return new c(this,t,e).jqDeferred.promise(s(this))})})(),c}),function(t,i){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("flickity"),require("imagesloaded")):t.Flickity=i(0,t.Flickity,t.imagesLoaded)}(window,function(t,e,n){"use strict";e.createMethods.push("_createImagesLoaded");var i=e.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){var i;this.options.imagesLoaded&&n((i=this).slider).on("progress",function(t,e){e=i.getParentCell(e.img),i.cellSizeChange(e&&e.element),i.options.freeScroll||i.positionSliderAtSelected()})},e}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):e(t.Flickity,t.fizzyUIUtils)}(this,function(t,n){var e=t.Slide,o=e.prototype.updateTarget;e.prototype.updateTarget=function(){var i,n;o.apply(this,arguments),this.parent.options.fade&&(i=this.target-this.x,n=this.cells[0].x,this.cells.forEach(function(t){var e=t.x-n-i;t.renderPosition(e)}))},e.prototype.setOpacity=function(e){this.cells.forEach(function(t){t.element.style.opacity=e})};e=t.prototype;t.createMethods.push("_createFade"),e._createFade=function(){this.fadeIndex=this.selectedIndex,this.prevSelectedIndex=this.selectedIndex,this.on("select",this.onSelectFade),this.on("dragEnd",this.onDragEndFade),this.on("settle",this.onSettleFade),this.on("activate",this.onActivateFade),this.on("deactivate",this.onDeactivateFade)};var i=e.updateSlides;e.updateSlides=function(){i.apply(this,arguments),this.options.fade&&this.slides.forEach(function(t,e){e=e==this.selectedIndex?1:0;t.setOpacity(e)},this)},e.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1),this.prevSelectedIndex=this.selectedIndex},e.onSettleFade=function(){delete this.didDragEnd,this.options.fade&&(this.selectedSlide.setOpacity(1),this.slides[this.fadeIndex]&&this.fadeIndex!=this.selectedIndex&&this.slides[this.fadeIndex].setOpacity(0))},e.onDragEndFade=function(){this.didDragEnd=!0},e.onActivateFade=function(){this.options.fade&&this.element.classList.add("is-fade")},e.onDeactivateFade=function(){this.options.fade&&(this.element.classList.remove("is-fade"),this.slides.forEach(function(t){t.setOpacity("")}))};var s=e.positionSlider;e.positionSlider=function(){this.options.fade?(this.fadeSlides(),this.dispatchScrollEvent()):s.apply(this,arguments)};var a=e.positionSliderAtSelected;e.positionSliderAtSelected=function(){this.options.fade&&this.setTranslateX(0),a.apply(this,arguments)},e.fadeSlides=function(){var t,e,i,n,o;this.slides.length<2||(t=this.getFadeIndexes(),e=this.slides[t.a],o=this.slides[t.b],i=this.wrapDifference(e.target,o.target),n=this.wrapDifference(e.target,-this.x),e.setOpacity(1-(n/=i)),o.setOpacity(n),o=t.a,this.isDragging&&(o=.5<n?t.a:t.b),null!=this.fadeHideIndex&&this.fadeHideIndex!=o&&this.fadeHideIndex!=t.a&&this.fadeHideIndex!=t.b&&this.slides[this.fadeHideIndex].setOpacity(0),this.fadeHideIndex=o)},e.getFadeIndexes=function(){return this.isDragging||this.didDragEnd?this.options.wrapAround?this.getFadeDragWrapIndexes():this.getFadeDragLimitIndexes():{a:this.fadeIndex,b:this.selectedIndex}},e.getFadeDragWrapIndexes=function(){var t=this.slides.map(function(t,e){return this.getSlideDistance(-this.x,e)},this),e=t.map(function(t){return Math.abs(t)}),i=Math.min.apply(Math,e),e=e.indexOf(i),i=t[e],t=this.slides.length;return{a:e,b:n.modulo(e+(0<=i?1:-1),t)}},e.getFadeDragLimitIndexes=function(){for(var t=0,e=0;e<this.slides.length-1;e++){var i=this.slides[e];if(-this.x<i.target)break;t=e}return{a:t,b:t+1}},e.wrapDifference=function(t,e){var i=e-t;if(!this.options.wrapAround)return i;e=i+this.slideableWidth,t=i-this.slideableWidth;return Math.abs(e)<Math.abs(i)&&(i=e),i=Math.abs(t)<Math.abs(i)?t:i};var r=e._getWrapShiftCells;e._getWrapShiftCells=function(){this.options.fade||r.apply(this,arguments)};var l=e.shiftWrapCells;return e.shiftWrapCells=function(){this.options.fade||l.apply(this,arguments)},t}),function(t,i){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("flickity"),require("imagesloaded")):t.Flickity=i(0,t.Flickity,t.imagesLoaded)}(window,function(t,e,n){"use strict";e.createMethods.push("_createImagesLoaded");var i=e.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){var i;this.options.imagesLoaded&&n((i=this).slider).on("progress",function(t,e){e=i.getParentCell(e.img),i.cellSizeChange(e&&e.element),i.options.freeScroll||i.positionSliderAtSelected()})},e}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(M){var l,B,n,o,r,s,m,z,O,g,u,c,h,d,f,p,v,y,b,x,w,S,_,C,E,k,T,P,$,a,A,I,D,L,F,W,R,j,H,q,Y,X,N,V,U,K,Q,G,Z,J,e,tt,et,it,nt,ot,st,t,i,at;t="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,at="https:"==document.location.protocol?"https:":"http:",t||(i?require("jquery-mousewheel")(M):M.event.special.mousewheel||M("head").append(decodeURI("%3Cscript src="+at+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),l="mCustomScrollbar",B="mCS",n=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,s={},m=window.attachEvent&&!window.addEventListener?1:0,z=!1,g=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(a){var a=M.extend(!0,{},o,a),t=c.call(this);if(a.live){var e=a.liveSelector||this.selector||n,i=M(e);if("off"===a.live)return void d(e);s[e]=setTimeout(function(){i.mCustomScrollbar(a),"once"===a.live&&i.length&&d(e)},500)}else d(e);return a.setWidth=a.set_width||a.setWidth,a.setHeight=a.set_height||a.setHeight,a.axis=a.horizontalScroll?"x":f(a.axis),a.scrollInertia=0<a.scrollInertia&&a.scrollInertia<17?17:a.scrollInertia,"object"!=typeof a.mouseWheel&&1==a.mouseWheel&&(a.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),a.mouseWheel.scrollAmount=a.mouseWheelPixels||a.mouseWheel.scrollAmount,a.mouseWheel.normalizeDelta=a.advanced.normalizeMouseWheelDelta||a.mouseWheel.normalizeDelta,a.scrollButtons.scrollType=p(a.scrollButtons.scrollType),h(a),M(t).each(function(){var t,e,i,n,o,s=M(this);s.data(B)||(s.data(B,{idx:++r,opt:a,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:s.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}}),e=(t=s.data(B)).opt,i=s.data("mcs-axis"),n=s.data("mcs-scrollbar-position"),o=s.data("mcs-theme"),i&&(e.axis=i),n&&(e.scrollbarPosition=n),o&&(e.theme=o,h(e)),v.call(this),t&&e.callbacks.onCreate&&"function"==typeof e.callbacks.onCreate&&e.callbacks.onCreate.call(this),M("#mCSB_"+t.idx+"_container img:not(."+g[2]+")").addClass(g[2]),u.update.call(null,s))})},update:function(t,a){t=t||c.call(this);return M(t).each(function(){var t,e,i,n,o,s=M(this);s.data(B)&&(e=(t=s.data(B)).opt,o=M("#mCSB_"+t.idx+"_container"),i=M("#mCSB_"+t.idx),n=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")],o.length&&(t.tweenRunning&&Q(s),a&&t&&e.callbacks.onBeforeUpdate&&"function"==typeof e.callbacks.onBeforeUpdate&&e.callbacks.onBeforeUpdate.call(this),s.hasClass(g[3])&&s.removeClass(g[3]),s.hasClass(g[4])&&s.removeClass(g[4]),i.css("max-height","none"),i.height()!==s.height()&&i.css("max-height",s.height()),b.call(this),"y"===e.axis||e.advanced.autoExpandHorizontalScroll||o.css("width",y(o)),t.overflowed=C.call(this),P.call(this),e.autoDraggerLength&&w.call(this),S.call(this),k.call(this),o=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)],"x"!==e.axis&&(t.overflowed[0]?n[0].height()>n[0].parent().height()?E.call(this):(G(s,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}),t.contentReset.y=null):(E.call(this),"y"===e.axis?T.call(this):"yx"===e.axis&&t.overflowed[1]&&G(s,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==e.axis&&(t.overflowed[1]?n[1].width()>n[1].parent().width()?E.call(this):(G(s,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}),t.contentReset.x=null):(E.call(this),"x"===e.axis?T.call(this):"yx"===e.axis&&t.overflowed[0]&&G(s,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),a&&t&&(2===a&&e.callbacks.onImageLoad&&"function"==typeof e.callbacks.onImageLoad?e.callbacks.onImageLoad.call(this):3===a&&e.callbacks.onSelectorChange&&"function"==typeof e.callbacks.onSelectorChange?e.callbacks.onSelectorChange.call(this):e.callbacks.onUpdate&&"function"==typeof e.callbacks.onUpdate&&e.callbacks.onUpdate.call(this)),K.call(this)))})},scrollTo:function(a,r){if(void 0!==a&&null!=a){var t=c.call(this);return M(t).each(function(){var t,e,i,n,o,s=M(this);s.data(B)&&(t=s.data(B),o={trigger:"external",scrollInertia:(e=t.opt).scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=M.extend(!0,{},o,r),n=V.call(this,a),o=0<i.scrollInertia&&i.scrollInertia<17?17:i.scrollInertia,n[0]=U.call(this,n[0],"y"),n[1]=U.call(this,n[1],"x"),i.moveDragger&&(n[0]*=t.scrollRatio.y,n[1]*=t.scrollRatio.x),i.dur=st()?0:o,setTimeout(function(){null!==n[0]&&void 0!==n[0]&&"x"!==e.axis&&t.overflowed[0]&&(i.dir="y",i.overwrite="all",G(s,n[0].toString(),i)),null!==n[1]&&void 0!==n[1]&&"y"!==e.axis&&t.overflowed[1]&&(i.dir="x",i.overwrite="none",G(s,n[1].toString(),i))},i.timeout))})}},stop:function(){var t=c.call(this);return M(t).each(function(){var t=M(this);t.data(B)&&Q(t)})},disable:function(e){var t=c.call(this);return M(t).each(function(){var t=M(this);t.data(B)&&(t.data(B),K.call(this,"remove"),T.call(this),e&&E.call(this),P.call(this,!0),t.addClass(g[3]))})},destroy:function(){var a=c.call(this);return M(a).each(function(){var t,e,i,n,o,s=M(this);s.data(B)&&(e=(t=s.data(B)).opt,i=M("#mCSB_"+t.idx),n=M("#mCSB_"+t.idx+"_container"),o=M(".mCSB_"+t.idx+"_scrollbar"),e.live&&d(e.liveSelector||M(a).selector),K.call(this,"remove"),T.call(this),E.call(this),s.removeData(B),tt(this,"mcs"),o.remove(),n.find("img."+g[2]).removeClass(g[2]),i.replaceWith(n.contents()),s.removeClass(l+" _"+B+"_"+t.idx+" "+g[6]+" "+g[7]+" "+g[5]+" "+g[3]).addClass(g[4]))})}},c=function(){return"object"!=typeof M(this)||M(this).length<1?n:this},h=function(t){t.autoDraggerLength=!(-1<M.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&t.autoDraggerLength,t.autoExpandScrollbar=!(-1<M.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&t.autoExpandScrollbar,t.scrollButtons.enable=!(-1<M.inArray(t.theme,["minimal","minimal-dark"]))&&t.scrollButtons.enable,t.autoHideScrollbar=-1<M.inArray(t.theme,["minimal","minimal-dark"])||t.autoHideScrollbar,t.scrollbarPosition=-1<M.inArray(t.theme,["minimal","minimal-dark"])?"outside":t.scrollbarPosition},d=function(t){s[t]&&(clearTimeout(s[t]),tt(s,t))},f=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},p=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var t=M(this),e=t.data(B),i=e.opt,n=i.autoExpandScrollbar?" "+g[1]+"_expand":"",o=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+g[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+g[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===i.axis?o[0]+o[1]:"x"===i.axis?o[1]:o[0],r="yx"===i.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",n=i.autoHideScrollbar?" "+g[6]:"",o="x"!==i.axis&&"rtl"===e.langDir?" "+g[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===e.langDir?"989999px":i.setLeft,t.addClass(l+" _"+B+"_"+e.idx+n+o).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+e.langDir+"' /></div>");o=M("#mCSB_"+e.idx),s=M("#mCSB_"+e.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||s.css("width",y(s)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),o.addClass("mCSB_outside").after(a)):(o.addClass("mCSB_inside").append(a),s.wrap(r)),x.call(this);e=[M("#mCSB_"+e.idx+"_dragger_vertical"),M("#mCSB_"+e.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height()),e[1].css("min-width",e[1].width())},y=function(t){var e=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return M(this).outerWidth(!0)}).get())],t=t.parent().width();return t<e[0]?e[0]:t<e[1]?e[1]:"100%"},b=function(){var t=M(this).data(B),e=t.opt,i=M("#mCSB_"+t.idx+"_container");e.advanced.autoExpandHorizontalScroll&&"y"!==e.axis&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),t=Math.ceil(i[0].scrollWidth),3===e.advanced.autoExpandHorizontalScroll||2!==e.advanced.autoExpandHorizontalScroll&&t>i.parent().width()?i.css({width:t,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},x=function(){var t=M(this).data(B),e=t.opt,i=M(".mCSB_"+t.idx+"_scrollbar:first"),t=nt(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",t=["<a href='#' class='"+g[13]+"' "+t+" />","<a href='#' class='"+g[14]+"' "+t+" />","<a href='#' class='"+g[15]+"' "+t+" />","<a href='#' class='"+g[16]+"' "+t+" />"],t=["x"===e.axis?t[2]:t[0],"x"===e.axis?t[3]:t[1],t[2],t[3]];e.scrollButtons.enable&&i.prepend(t[0]).append(t[1]).next(".mCSB_scrollTools").prepend(t[2]).append(t[3])},w=function(){var t=M(this).data(B),e=M("#mCSB_"+t.idx),i=M("#mCSB_"+t.idx+"_container"),t=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")],e=[e.height()/i.outerHeight(!1),e.width()/i.outerWidth(!1)],i=[parseInt(t[0].css("min-height")),Math.round(e[0]*t[0].parent().height()),parseInt(t[1].css("min-width")),Math.round(e[1]*t[1].parent().width())],e=m&&i[3]<i[2]?i[2]:i[3];t[0].css({height:m&&i[1]<i[0]?i[0]:i[1],"max-height":t[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),t[1].css({width:e,"max-width":t[1].parent().width()-10})},S=function(){var t=M(this).data(B),e=M("#mCSB_"+t.idx),i=M("#mCSB_"+t.idx+"_container"),n=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")],e=[i.outerHeight(!1)-e.height(),i.outerWidth(!1)-e.width()],n=[e[0]/(n[0].parent().height()-n[0].height()),e[1]/(n[1].parent().width()-n[1].width())];t.scrollRatio={y:n[0],x:n[1]}},_=function(t,e,i){var n=i?g[0]+"_expanded":"",i=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(g[0]+" "+n),i.toggleClass(g[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(g[0]),i.removeClass(g[1])):(t.addClass(g[0]),i.addClass(g[1])))},C=function(){var t=M(this).data(B),e=M("#mCSB_"+t.idx),i=M("#mCSB_"+t.idx+"_container"),n=null==t.overflowed?i.height():i.outerHeight(!1),o=null==t.overflowed?i.width():i.outerWidth(!1),t=i[0].scrollHeight,i=i[0].scrollWidth;return o<i&&(o=i),[(n=n<t?t:n)>e.height(),o>e.width()]},E=function(){var t=M(this),e=t.data(B),i=e.opt,n=M("#mCSB_"+e.idx),o=M("#mCSB_"+e.idx+"_container"),s=[M("#mCSB_"+e.idx+"_dragger_vertical"),M("#mCSB_"+e.idx+"_dragger_horizontal")];Q(t),("x"!==i.axis&&!e.overflowed[0]||"y"===i.axis&&e.overflowed[0])&&(s[0].add(o).css("top",0),G(t,"_resetY")),("y"!==i.axis&&!e.overflowed[1]||"x"===i.axis&&e.overflowed[1])&&(i=dx=0,"rtl"===e.langDir&&(i=n.width()-o.outerWidth(!1),dx=Math.abs(i/e.scrollRatio.x)),o.css("left",i),s[1].css("left",dx),G(t,"_resetX"))},k=function(){var e,i=M(this),t=i.data(B),n=t.opt;t.bindEvents||(a.call(this),n.contentTouchScroll&&A.call(this),I.call(this),n.mouseWheel.enable&&function t(){e=setTimeout(function(){M.event.special.mousewheel?(clearTimeout(e),D.call(i[0])):t()},100)}(),j.call(this),q.call(this),n.advanced.autoScrollOnFocus&&H.call(this),n.scrollButtons.enable&&Y.call(this),n.keyboard.enable&&X.call(this),t.bindEvents=!0)},T=function(){var t=M(this),e=t.data(B),i=e.opt,n="mCS_"+e.idx,o=".mCSB_"+e.idx+"_scrollbar",s=M("#mCSB_"+e.idx+",#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,"+o+" ."+g[12]+",#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal,"+o+">a"),o=M("#mCSB_"+e.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(M(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(M(i.advanced.extraDraggableSelectors)),e.bindEvents&&(M(document).add(M(!F()||top.document)).unbind("."+n),s.each(function(){M(this).unbind("."+n)}),clearTimeout(t[0]._focusTimeout),tt(t[0],"_focusTimeout"),clearTimeout(e.sequential.step),tt(e.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),tt(o[0],"onCompleteTimeout"),e.bindEvents=!1)},P=function(t){var e=M(this),i=e.data(B),n=i.opt,o=M("#mCSB_"+i.idx+"_container_wrapper"),s=o.length?o:M("#mCSB_"+i.idx+"_container"),a=[M("#mCSB_"+i.idx+"_scrollbar_vertical"),M("#mCSB_"+i.idx+"_scrollbar_horizontal")],o=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==n.axis&&(i.overflowed[0]&&!t?(a[0].add(o[0]).add(a[0].children("a")).css("display","block"),s.removeClass(g[8]+" "+g[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&o[0].css("display","none"),s.removeClass(g[10])):(a[0].css("display","none"),s.addClass(g[10])),s.addClass(g[8]))),"y"!==n.axis&&(i.overflowed[1]&&!t?(a[1].add(o[1]).add(a[1].children("a")).css("display","block"),s.removeClass(g[9]+" "+g[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&o[1].css("display","none"),s.removeClass(g[11])):(a[1].css("display","none"),s.addClass(g[11])),s.addClass(g[9]))),i.overflowed[0]||i.overflowed[1]?e.removeClass(g[5]):e.addClass(g[5])},$=function(t){var e=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[M(frameElement).offset().top,M(frameElement).offset().left]:null,n=F()&&t.target.ownerDocument!==top.document&&null!==frameElement?[M(t.view.frameElement).offset().top,M(t.view.frameElement).offset().left]:[0,0];switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+n[0],t.originalEvent.pageX-i[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],s=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[o.screenY,o.screenX,1<s]:[o.pageY,o.pageX,1<s];default:return i?[t.pageY-i[0]+n[0],t.pageX-i[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},a=function(){var s,o,a,r=M(this),l=r.data(B),c=l.opt,t="mCS_"+l.idx,h=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],d=M("#mCSB_"+l.idx+"_container"),e=M("#"+h[0]+",#"+h[1]),i=c.advanced.releaseDraggableSelectors?e.add(M(c.advanced.releaseDraggableSelectors)):e,n=c.advanced.extraDraggableSelectors?M(!F()||top.document).add(M(c.advanced.extraDraggableSelectors)):M(!F()||top.document);function u(t,e,i,n){var o;d[0].idleTimer=c.scrollInertia<233?250:0,i=s.attr("id")===h[1]?(o="x",(s[0].offsetLeft-e+n)*l.scrollRatio.x):(o="y",(s[0].offsetTop-t+i)*l.scrollRatio.y),G(r,i.toString(),{dir:o,drag:!0})}e.bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){var e,i,n;t.stopImmediatePropagation(),t.preventDefault(),et(t)&&(z=!0,m&&(document.onselectstart=function(){return!1}),W.call(d,!1),Q(r),n=(s=M(this)).offset(),e=$(t)[0]-n.top,i=$(t)[1]-n.left,t=s.height()+n.top,n=s.width()+n.left,e<t&&0<e&&i<n&&0<i&&(o=e,a=i),_(s,"active",c.autoExpandScrollbar))}).bind("touchmove."+t,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=s.offset(),i=$(t)[0]-e.top,e=$(t)[1]-e.left;u(o,a,i,e)}),M(document).add(n).bind("mousemove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){var e,i;s&&(i=s.offset(),e=$(t)[0]-i.top,i=$(t)[1]-i.left,o===e&&a===i||u(o,a,e,i))}).add(i).bind("mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){s&&(_(s,"active",c.autoExpandScrollbar),s=null),z=!1,m&&(document.onselectstart=null),W.call(d,!0)})},A=function(){var a,r,l,s,c,h,d,u,f,p,m,g,v=M(this),y=v.data(B),b=y.opt,t="mCS_"+y.idx,x=M("#mCSB_"+y.idx),w=M("#mCSB_"+y.idx+"_container"),S=[M("#mCSB_"+y.idx+"_dragger_vertical"),M("#mCSB_"+y.idx+"_dragger_horizontal")],C=[],_=[],E=0,k="yx"===b.axis?"none":"all",T=[],e=w.find("iframe"),i=["touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,"touchmove."+t+" pointermove."+t+" MSPointerMove."+t,"touchend."+t+" pointerup."+t+" MSPointerUp."+t],P=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function n(t){var e;!it(t)||z||$(t)[2]?O=0:(g=m=0,a=O=1,v.removeClass("mCS_touch_action"),e=w.offset(),r=$(t)[0]-e.top,l=$(t)[1]-e.left,T=[$(t)[0],$(t)[1]])}function o(t){var e,i,n,o,s;!it(t)||z||$(t)[2]||(b.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),g&&!m||a&&(d=J(),n=x.offset(),e=$(t)[0]-n.top,i=$(t)[1]-n.left,n="mcsLinearOut",C.push(e),_.push(i),T[2]=Math.abs($(t)[0]-T[0]),T[3]=Math.abs($(t)[1]-T[1]),y.overflowed[0]&&(o=S[0].parent().height()-S[0].height(),o=0<r-e&&e-r>-(o*y.scrollRatio.y)&&(2*T[3]<T[2]||"yx"===b.axis)),y.overflowed[1]&&(s=S[1].parent().width()-S[1].width(),s=0<l-i&&i-l>-(s*y.scrollRatio.x)&&(2*T[2]<T[3]||"yx"===b.axis)),o||s?(P||t.preventDefault(),m=1):(g=1,v.addClass("mCS_touch_action")),P&&t.preventDefault(),f="yx"===b.axis?[r-e,l-i]:"x"===b.axis?[null,l-i]:[r-e,null],w[0].idleTimer=250,y.overflowed[0]&&L(f[0],E,n,"y","all",!0),y.overflowed[1]&&L(f[1],E,n,"x",k,!0)))}function A(t){var e;!it(t)||z||$(t)[2]?O=0:(O=1,t.stopImmediatePropagation(),Q(v),h=J(),e=x.offset(),s=$(t)[0]-e.top,c=$(t)[1]-e.left,C=[],_=[])}function I(t){var e,i,n,o;!it(t)||z||$(t)[2]||(a=0,t.stopImmediatePropagation(),g=m=0,u=J(),n=x.offset(),e=$(t)[0]-n.top,o=$(t)[1]-n.left,30<u-d||(i="mcsEaseOut",n=(t=(p=1e3/(u-h))<2.5)?[C[C.length-2],_[_.length-2]]:[0,0],u=t?[e-n[0],o-n[1]]:[e-s,o-c],o=[Math.abs(u[0]),Math.abs(u[1])],p=t?[Math.abs(u[0]/4),Math.abs(u[1]/4)]:[p,p],t=[Math.abs(w[0].offsetTop)-u[0]*D(o[0]/p[0],p[0]),Math.abs(w[0].offsetLeft)-u[1]*D(o[1]/p[1],p[1])],f="yx"===b.axis?[t[0],t[1]]:"x"===b.axis?[null,t[1]]:[t[0],null],p=[4*o[0]+b.scrollInertia,4*o[1]+b.scrollInertia],t=parseInt(b.contentTouchScroll)||0,f[0]=t<o[0]?f[0]:0,f[1]=t<o[1]?f[1]:0,y.overflowed[0]&&L(f[0],p[0],i,"y",k,!1),y.overflowed[1]&&L(f[1],p[1],i,"x",k,!1)))}function D(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return 90<t?4<e?i[0]:i[3]:60<t?3<e?i[3]:i[2]:30<t?8<e?i[1]:6<e?i[0]:4<e?e:i[2]:8<e?e:i[3]}function L(t,e,i,n,o,s){t&&G(v,t.toString(),{dur:e,scrollEasing:i,dir:n,overwrite:o,drag:s})}w.bind(i[0],function(t){n(t)}).bind(i[1],function(t){o(t)}),x.bind(i[0],function(t){A(t)}).bind(i[2],function(t){I(t)}),e.length&&e.each(function(){M(this).bind("load",function(){F(this)&&M(this.contentDocument||this.contentWindow.document).bind(i[0],function(t){n(t),A(t)}).bind(i[1],function(t){o(t)}).bind(i[2],function(t){I(t)})})})},I=function(){var n,o=M(this),s=o.data(B),a=s.opt,r=s.sequential,t="mCS_"+s.idx,l=M("#mCSB_"+s.idx+"_container"),c=l.parent();function h(t,e,i){r.type=i&&n?"stepped":"stepless",r.scrollAmount=10,N(o,t,e,"mcsLinearOut",i?60:null)}l.bind("mousedown."+t,function(t){O||n||(n=1,z=!0)}).add(document).bind("mousemove."+t,function(t){var e,i;!O&&n&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)&&(i=l.offset(),e=$(t)[0]-i.top+l[0].offsetTop,i=$(t)[1]-i.left+l[0].offsetLeft,0<e&&e<c.height()&&0<i&&i<c.width()?r.step&&h("off",null,"stepped"):("x"!==a.axis&&s.overflowed[0]&&(e<0?h("on",38):e>c.height()&&h("on",40)),"y"!==a.axis&&s.overflowed[1]&&(i<0?h("on",37):i>c.width()&&h("on",39))))}).bind("mouseup."+t+" dragend."+t,function(t){O||(n&&(n=0,h("off",null)),z=!1)})},D=function(){var h,d,u,t,f,p,e;function i(t,e){var i,n,o,s,a,r,l,c;Q(h),R(h,t.target)||(i="auto"!==u.mouseWheel.deltaFactor?parseInt(u.mouseWheel.deltaFactor):!(m&&t.deltaFactor<100)&&t.deltaFactor||100,n=u.scrollInertia,e="x"===u.axis||"x"===u.mouseWheel.axis?(o="x",s=[Math.round(i*d.scrollRatio.x),parseInt(u.mouseWheel.scrollAmount)],a="auto"!==u.mouseWheel.scrollAmount?s[1]:s[0]>=f.width()?.9*f.width():s[0],r=Math.abs(M("#mCSB_"+d.idx+"_container")[0].offsetLeft),l=p[1][0].offsetLeft,c=p[1].parent().width()-p[1].width(),"y"===u.mouseWheel.axis?t.deltaY||e:t.deltaX):(o="y",s=[Math.round(i*d.scrollRatio.y),parseInt(u.mouseWheel.scrollAmount)],a="auto"!==u.mouseWheel.scrollAmount?s[1]:s[0]>=f.height()?.9*f.height():s[0],r=Math.abs(M("#mCSB_"+d.idx+"_container")[0].offsetTop),l=p[0][0].offsetTop,c=p[0].parent().height()-p[0].height(),t.deltaY||e),"y"===o&&!d.overflowed[0]||"x"===o&&!d.overflowed[1]||((u.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(e=-e),(0<(e=u.mouseWheel.normalizeDelta?e<0?-1:1:e)&&0!==l||e<0&&l!==c||u.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!u.mouseWheel.normalizeDelta&&(a=t.deltaFactor,n=17),G(h,(r-e*a).toString(),{dir:o,dur:n})))}M(this).data(B)&&(h=M(this),d=h.data(B),u=d.opt,t="mCS_"+d.idx,f=M("#mCSB_"+d.idx),p=[M("#mCSB_"+d.idx+"_dragger_vertical"),M("#mCSB_"+d.idx+"_dragger_horizontal")],(e=M("#mCSB_"+d.idx+"_container").find("iframe")).length&&e.each(function(){M(this).bind("load",function(){F(this)&&M(this.contentDocument||this.contentWindow.document).bind("mousewheel."+t,function(t,e){i(t,e)})})}),f.bind("mousewheel."+t,function(t,e){i(t,e)}))},L=new Object,F=function(t){var e=!1,i=!1,n=null;if(void 0===t?i="#empty":void 0!==M(t).attr("id")&&(i=M(t).attr("id")),!1!==i&&void 0!==L[i])return L[i];if(t){try{n=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(t){}e=null!==n}else{try{n=top.document.body.innerHTML}catch(t){}e=null!==n}return!1!==i&&(L[i]=e),e},W=function(t){var e=this.find("iframe");e.length&&e.css("pointer-events",t?"auto":"none")},R=function(t,e){var i=e.nodeName.toLowerCase(),t=t.data(B).opt.mouseWheel.disableOver;return-1<M.inArray(i,t)&&!(-1<M.inArray(i,["select","textarea"])&&!M(e).is(":focus"))},j=function(){var a,r=M(this),l=r.data(B),t="mCS_"+l.idx,c=M("#mCSB_"+l.idx+"_container"),h=c.parent();M(".mCSB_"+l.idx+"_scrollbar ."+g[12]).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){z=!0,M(t.target).hasClass("mCSB_dragger")||(a=1)}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){z=!1}).bind("click."+t,function(t){if(a&&(a=0,M(t.target).hasClass(g[12])||M(t.target).hasClass("mCSB_draggerRail"))){Q(r);var e=M(this),i=e.find(".mCSB_dragger");if(0<e.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var n="x",o=t.pageX>i.offset().left?-1:1,s=Math.abs(c[0].offsetLeft)-o*(.9*h.width())}else{if(!l.overflowed[0])return;n="y",o=t.pageY>i.offset().top?-1:1,s=Math.abs(c[0].offsetTop)-o*(.9*h.height())}G(r,s.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}})},H=function(){var o=M(this),t=o.data(B),s=t.opt,e="mCS_"+t.idx,a=M("#mCSB_"+t.idx+"_container"),r=a.parent();a.bind("focusin."+e,function(t){var n=M(document.activeElement),e=a.find(".mCustomScrollBox").length;n.is(s.advanced.autoScrollOnFocus)&&(Q(o),clearTimeout(o[0]._focusTimeout),o[0]._focusTimer=e?17*e:0,o[0]._focusTimeout=setTimeout(function(){var t=[ot(n)[0],ot(n)[1]],e=[a[0].offsetTop,a[0].offsetLeft],i=[0<=e[0]+t[0]&&e[0]+t[0]<r.height()-n.outerHeight(!1),0<=e[1]+t[1]&&e[0]+t[1]<r.width()-n.outerWidth(!1)],e="yx"!==s.axis||i[0]||i[1]?"all":"none";"x"===s.axis||i[0]||G(o,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:e,dur:0}),"y"===s.axis||i[1]||G(o,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:e,dur:0})},o[0]._focusTimer))})},q=function(){var e=M(this).data(B),t="mCS_"+e.idx,i=M("#mCSB_"+e.idx+"_container").parent();i.bind("scroll."+t,function(t){0===i.scrollTop()&&0===i.scrollLeft()||M(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},Y=function(){var n=M(this),o=n.data(B),s=o.opt,a=o.sequential,t="mCS_"+o.idx,e=".mCSB_"+o.idx+"_scrollbar";M(e+">a").bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t+" mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t+" mouseout."+t+" pointerout."+t+" MSPointerOut."+t+" click."+t,function(t){if(t.preventDefault(),et(t)){var e=M(this).attr("class");switch(a.type=s.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;z=!0,o.tweenRunning=!1,i("on",e);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;z=!1,a.dir&&i("off",e);break;case"click":if("stepped"!==a.type||o.tweenRunning)return;i("on",e)}}function i(t,e){a.scrollAmount=s.scrollButtons.scrollAmount,N(n,t,e)}})},X=function(){var a=M(this),r=a.data(B),l=r.opt,c=r.sequential,t="mCS_"+r.idx,e=M("#mCSB_"+r.idx),h=M("#mCSB_"+r.idx+"_container"),d=h.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",i=h.find("iframe"),n=["blur."+t+" keydown."+t+" keyup."+t];function o(t){switch(t.type){case"blur":r.tweenRunning&&c.dir&&s("off",null);break;case"keydown":case"keyup":var e,i,n=t.keyCode||t.which,o="on";if("x"!==l.axis&&(38===n||40===n)||"y"!==l.axis&&(37===n||39===n)){if((38===n||40===n)&&!r.overflowed[0]||(37===n||39===n)&&!r.overflowed[1])return;"keyup"===t.type&&(o="off"),M(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),s(o,n))}else 33===n||34===n?((r.overflowed[0]||r.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type&&(Q(a),i=34===n?-1:1,i="x"===l.axis||"yx"===l.axis&&r.overflowed[1]&&!r.overflowed[0]?(e="x",Math.abs(h[0].offsetLeft)-i*(.9*d.width())):(e="y",Math.abs(h[0].offsetTop)-i*(.9*d.height())),G(a,i.toString(),{dir:e,scrollEasing:"mcsEaseInOut"}))):35!==n&&36!==n||M(document.activeElement).is(u)||((r.overflowed[0]||r.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type&&(i="x"===l.axis||"yx"===l.axis&&r.overflowed[1]&&!r.overflowed[0]?(e="x",35===n?Math.abs(d.width()-h.outerWidth(!1)):0):(e="y",35===n?Math.abs(d.height()-h.outerHeight(!1)):0),G(a,i.toString(),{dir:e,scrollEasing:"mcsEaseInOut"})))}function s(t,e){c.type=l.keyboard.scrollType,c.scrollAmount=l.keyboard.scrollAmount,"stepped"===c.type&&r.tweenRunning||N(a,t,e)}}i.length&&i.each(function(){M(this).bind("load",function(){F(this)&&M(this.contentDocument||this.contentWindow.document).bind(n[0],function(t){o(t)})})}),e.attr("tabindex","0").bind(n[0],function(t){o(t)})},N=function(a,t,e,r,l){var c=a.data(B),h=c.opt,d=c.sequential,u=M("#mCSB_"+c.idx+"_container"),i="stepped"===d.type,f=h.scrollInertia<26?26:h.scrollInertia,p=h.scrollInertia<1?17:h.scrollInertia;switch(t){case"on":if(d.dir=[e===g[16]||e===g[15]||39===e||37===e?"x":"y",e===g[13]||e===g[15]||38===e||37===e?-1:1],Q(a),nt(e)&&"stepped"===d.type)return;m(i);break;case"off":clearTimeout(d.step),tt(d,"step"),Q(a),(i||c.tweenRunning&&d.dir)&&m(!0)}function m(t){h.snapAmount&&(d.scrollAmount=h.snapAmount instanceof Array?"x"===d.dir[0]?h.snapAmount[1]:h.snapAmount[0]:h.snapAmount);var e="stepped"!==d.type,i=l||(t?e?f/1.5:p:1e3/60),n=t?e?7.5:40:2.5,o=[Math.abs(u[0].offsetTop),Math.abs(u[0].offsetLeft)],s=[10<c.scrollRatio.y?10:c.scrollRatio.y,10<c.scrollRatio.x?10:c.scrollRatio.x],s="x"===d.dir[0]?o[1]+d.dir[1]*(s[1]*n):o[0]+d.dir[1]*(s[0]*n),n="x"===d.dir[0]?o[1]+d.dir[1]*parseInt(d.scrollAmount):o[0]+d.dir[1]*parseInt(d.scrollAmount),n="auto"!==d.scrollAmount?n:s,s=r||(t?e?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),e=!!t;t&&i<17&&(n="x"===d.dir[0]?o[1]:o[0]),G(a,n.toString(),{dir:d.dir[0],scrollEasing:s,dur:i,onComplete:e}),t?d.dir=!1:(clearTimeout(d.step),d.step=setTimeout(function(){m()},i))}},V=function(t){var e=M(this).data(B).opt,i=[];return(t="function"==typeof t?t():t)instanceof Array?i=1<t.length?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y||(t.x||"x"===e.axis?null:t),i[1]=t.x||(t.y||"y"===e.axis?null:t)),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},U=function(t,e){if(null!=t&&void 0!==t){var i=M(this),n=i.data(B),o=n.opt,s=M("#mCSB_"+n.idx+"_container"),a=s.parent(),n=typeof t,r="x"===(e=e||("x"===o.axis?"x":"y"))?s.outerWidth(!1)-a.width():s.outerHeight(!1)-a.height(),l="x"===e?s[0].offsetLeft:s[0].offsetTop,c="x"===e?"left":"top";switch(n){case"function":return t();case"object":return(d=t.jquery?t:M(t)).length?"x"===e?ot(d)[1]:ot(d)[0]:void 0;case"string":case"number":if(nt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(r*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(l-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var h=l+parseInt(t.split("+=")[1]);return 0<=h?0:Math.abs(h)}if(-1!==t.indexOf("px")&&nt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(a.height()-s.outerHeight(!1));if("right"===t)return Math.abs(a.width()-s.outerWidth(!1));if("first"!==t&&"last"!==t)return M(t).length?"x"===e?ot(M(t))[1]:ot(M(t))[0]:(s.css(c,t),void u.update.call(null,i[0]));var d=s.find(":"+t);return"x"===e?ot(d)[1]:ot(d)[0]}}},K=function(t){var e=M(this),i=e.data(B),n=i.opt,o=M("#mCSB_"+i.idx+"_container");if(t)return clearTimeout(o[0].autoUpdate),void tt(o[0],"autoUpdate");function s(t){var e,i,n;M(t).hasClass(g[2])?r():((e=new Image).onload=(i=e,n=function(){this.onload=null,M(t).addClass(g[2]),r(2)},function(){return n.apply(i,arguments)}),e.src=t.src)}function a(){!0===n.advanced.updateOnSelectorChange&&(n.advanced.updateOnSelectorChange="*");var t=0,e=o.find(n.advanced.updateOnSelectorChange);return n.advanced.updateOnSelectorChange&&0<e.length&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function r(t){clearTimeout(o[0].autoUpdate),u.update.call(null,e[0],t)}!function t(){clearTimeout(o[0].autoUpdate);if(0===e.parents("html").length)return void(e=null);o[0].autoUpdate=setTimeout(function(){return n.advanced.updateOnSelectorChange&&(i.poll.change.n=a(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void r(3)):n.advanced.updateOnContentResize&&(i.poll.size.n=e[0].scrollHeight+e[0].scrollWidth+o[0].offsetHeight+e[0].offsetHeight+e[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void r(1)):!n.advanced.updateOnImageLoad||"auto"===n.advanced.updateOnImageLoad&&"y"===n.axis||(i.poll.img.n=o.find("img").length,i.poll.img.n===i.poll.img.o)?void((n.advanced.updateOnSelectorChange||n.advanced.updateOnContentResize||n.advanced.updateOnImageLoad)&&t()):(i.poll.img.o=i.poll.img.n,void o.find("img").each(function(){s(this)}))},n.advanced.autoUpdateTimeout)}()},Q=function(t){t=t.data(B);M("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal").each(function(){e.call(this)})},G=function(o,t,s){var e,i=o.data(B),n=i.opt,a={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:n.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=[(s=M.extend(a,s)).dur,s.drag?0:s.dur],l=M("#mCSB_"+i.idx),c=M("#mCSB_"+i.idx+"_container"),h=c.parent(),d=n.callbacks.onTotalScrollOffset?V.call(o,n.callbacks.onTotalScrollOffset):[0,0],u=n.callbacks.onTotalScrollBackOffset?V.call(o,n.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=s.trigger,0===h.scrollTop()&&0===h.scrollLeft()||(M(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==t||i.contentReset.y||(S("onOverflowYNone")&&n.callbacks.onOverflowYNone.call(o[0]),i.contentReset.y=1),"_resetX"!==t||i.contentReset.x||(S("onOverflowXNone")&&n.callbacks.onOverflowXNone.call(o[0]),i.contentReset.x=1),"_resetY"!==t&&"_resetX"!==t){switch(!i.contentReset.y&&o[0].mcs||!i.overflowed[0]||(S("onOverflowY")&&n.callbacks.onOverflowY.call(o[0]),i.contentReset.x=null),!i.contentReset.x&&o[0].mcs||!i.overflowed[1]||(S("onOverflowX")&&n.callbacks.onOverflowX.call(o[0]),i.contentReset.x=null),n.snapAmount&&(e=n.snapAmount instanceof Array?"x"===s.dir?n.snapAmount[1]:n.snapAmount[0]:n.snapAmount,a=t,h=e,e=n.snapOffset,t=Math.round(a/h)*h-e),s.dir){case"x":var f=M("#mCSB_"+i.idx+"_dragger_horizontal"),p="left",m=c[0].offsetLeft,g=[l.width()-c.outerWidth(!1),f.parent().width()-f.width()],v=[t,0===t?0:t/i.scrollRatio.x],y=d[1],b=u[1],x=0<y?y/i.scrollRatio.x:0,w=0<b?b/i.scrollRatio.x:0;break;case"y":f=M("#mCSB_"+i.idx+"_dragger_vertical"),p="top",m=c[0].offsetTop,g=[l.height()-c.outerHeight(!1),f.parent().height()-f.height()],v=[t,0===t?0:t/i.scrollRatio.y],y=d[0],b=u[0],x=0<y?y/i.scrollRatio.y:0,w=0<b?b/i.scrollRatio.y:0}v[1]<0||0===v[0]&&0===v[1]?v=[0,0]:v[1]>=g[1]?v=[g[0],g[1]]:v[0]=-v[0],o[0].mcs||(C(),S("onInit")&&n.callbacks.onInit.call(o[0])),clearTimeout(c[0].onCompleteTimeout),Z(f[0],p,Math.round(v[1]),r[1],s.scrollEasing),!i.tweenRunning&&(0===m&&0<=v[0]||m===g[0]&&v[0]<=g[0])||Z(c[0],p,Math.round(v[0]),r[0],s.scrollEasing,s.overwrite,{onStart:function(){s.callbacks&&s.onStart&&!i.tweenRunning&&(S("onScrollStart")&&(C(),n.callbacks.onScrollStart.call(o[0])),i.tweenRunning=!0,_(f),i.cbOffsets=[n.callbacks.alwaysTriggerOffsets||m>=g[0]+y,n.callbacks.alwaysTriggerOffsets||m<=-b])},onUpdate:function(){s.callbacks&&s.onUpdate&&S("whileScrolling")&&(C(),n.callbacks.whileScrolling.call(o[0]))},onComplete:function(){var t;s.callbacks&&s.onComplete&&("yx"===n.axis&&clearTimeout(c[0].onCompleteTimeout),t=c[0].idleTimer||0,c[0].onCompleteTimeout=setTimeout(function(){S("onScroll")&&(C(),n.callbacks.onScroll.call(o[0])),S("onTotalScroll")&&v[1]>=g[1]-x&&i.cbOffsets[0]&&(C(),n.callbacks.onTotalScroll.call(o[0])),S("onTotalScrollBack")&&v[1]<=w&&i.cbOffsets[1]&&(C(),n.callbacks.onTotalScrollBack.call(o[0])),i.tweenRunning=!1,c[0].idleTimer=0,_(f,"hide")},t))}})}function S(t){return i&&n.callbacks[t]&&"function"==typeof n.callbacks[t]}function C(){var t=[c[0].offsetTop,c[0].offsetLeft],e=[f[0].offsetTop,f[0].offsetLeft],i=[c.outerHeight(!1),c.outerWidth(!1)],n=[l.height(),l.width()];o[0].mcs={content:c,top:t[0],left:t[1],draggerTop:e[0],draggerLeft:e[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-n[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-n[1])),direction:s.dir}}},Z=function(t,e,i,n,o,s,a){t._mTween||(t._mTween={top:{},left:{}});var r,l,c=(a=a||{}).onStart||function(){},h=a.onUpdate||function(){},d=a.onComplete||function(){},u=J(),f=0,p=t.offsetTop,m=t.style,g=t._mTween[e];"left"===e&&(p=t.offsetLeft);var v=i-p;function y(){g.stop||(f||c.call(),f=J()-u,b(),f>=g.time&&(g.time=f>g.time?f+r-(f-g.time):f+r-1,g.time<f+1&&(g.time=f+1)),g.time<n?g.id=l(y):d.call())}function b(){0<n?(g.currVal=function(t,e,i,n,o){switch(o){case"linear":case"mcsLinear":return i*t/n+e;case"mcsLinearOut":return t/=n,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=n,-i*(--t*t*t*t-1)+e;case"easeOutStrong":return i*(1-Math.pow(2,-10*t/n))+e;default:var s=(t/=n)*t,a=s*t;return e+i*(.499999999999997*a*s+-2.5*s*s+5.5*a+-6.5*s+4*t)}}(g.time,p,v,n,o),m[e]=Math.round(g.currVal)+"px"):m[e]=i+"px",h.call()}g.stop=0,"none"!==s&&null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null),r=1e3/60,g.time=f+r,l=window.requestAnimationFrame||function(t){return b(),setTimeout(t,.01)},g.id=l(y)},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},e=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var n=e[i];t._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[n].id):clearTimeout(t._mTween[n].id),t._mTween[n].id=null,t._mTween[n].stop=1)}},tt=function(e,i){try{delete e[i]}catch(t){e[i]=null}},et=function(t){return!(t.which&&1!==t.which)},it=function(t){t=t.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},nt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ot=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},st=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]},M.fn[l]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void M.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},M[l]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void M.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},M[l].defaults=o,window[l]=!0,M(window).bind("load",function(){M(n)[l](),M.extend(M.expr[":"],{mcsInView:M.expr[":"].mcsInView||function(t){var e=M(t),i=e.parents(".mCSB_container");if(i.length)return t=i.parent(),0<=(i=[i[0].offsetTop,i[0].offsetLeft])[0]+ot(e)[0]&&i[0]+ot(e)[0]<t.height()-e.outerHeight(!1)&&0<=i[1]+ot(e)[1]&&i[1]+ot(e)[1]<t.width()-e.outerWidth(!1)},mcsInSight:M.expr[":"].mcsInSight||function(t,e,i){var n=M(t),o=n.parents(".mCSB_container"),t="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(o.length)return i=[n.outerHeight(!1),n.outerWidth(!1)],n=[o[0].offsetTop+ot(n)[0],o[0].offsetLeft+ot(n)[1]],o=[o.parent()[0].offsetHeight,o.parent()[0].offsetWidth],n[0]-o[0]*(t=[i[0]<o[0]?t[0]:t[1],i[1]<o[1]?t[0]:t[1]])[0][0]<0&&0<=n[0]+i[0]-o[0]*t[0][1]&&n[1]-o[1]*t[1][0]<0&&0<=n[1]+i[1]-o[1]*t[1][1]},mcsOverflow:M.expr[":"].mcsOverflow||function(t){t=M(t).data(B);if(t)return t.overflowed[0]||t.overflowed[1]}})})}),function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e),e}:i(jQuery)}(function(h){"use strict";function i(t,e){var i=this;i.element=t,i.$element=h(t),i.state={multiple:!!i.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},i.eventTriggers={open:i.open,close:i.close,destroy:i.destroy,refresh:i.refresh,init:i.init},i.init(e)}var e=h(document),o=h(window),l="selectric",n=".sl",s=["a","e","i","o","u","n","c","y"],a=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g];i.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(t){for(var e=a.length;e--;)t=t.toLowerCase().replace(a[e],s[e]);return t},format:function(t){var n=arguments;return(""+t).replace(/\{(?:(\d+)|(\w+))\}/g,function(t,e,i){return i&&n[1]?n[1][i]:n[e]})},nextEnabledItem:function(t,e){for(;t[e=(e+1)%t.length].disabled;);return e},previousEnabledItem:function(t,e){for(;t[e=(0<e?e:t.length)-1].disabled;);return e},toDash:function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,e){var i=e.element,n=e.options["on"+t],e=[i].concat([].slice.call(arguments).slice(1));h.isFunction(n)&&n.apply(i,e),h(i).trigger(l+"-"+this.toDash(t),e)},arrayToClassname:function(t){t=h.grep(t,function(t){return!!t});return h.trim(t.join(" "))}},init:function(t){var e,i,n,o,s,a,r=this;r.options=h.extend(!0,{},h.fn[l].defaults,r.options,t),r.utils.triggerCallback("BeforeInit",r),r.destroy(!0),r.options.disableOnMobile&&r.utils.isMobile()?r.disableOnMobile=!0:(r.classes=r.getClassNames(),e=h("<input/>",{class:r.classes.input,readonly:r.utils.isMobile()}),i=h("<div/>",{class:r.classes.items,tabindex:-1}),n=h("<div/>",{class:r.classes.scroll}),o=h("<div/>",{class:r.classes.prefix,html:r.options.arrowButtonMarkup}),s=h("<span/>",{class:"label"}),a=r.$element.wrap("<div/>").parent().append(o.prepend(s),i,e),t=h("<div/>",{class:r.classes.hideselect}),r.elements={input:e,items:i,itemsScroll:n,wrapper:o,label:s,outerWrapper:a},r.options.nativeOnMobile&&r.utils.isMobile()&&(r.elements.input=void 0,t.addClass(r.classes.prefix+"-is-native"),r.$element.on("change",function(){r.refresh()})),r.$element.on(r.eventTriggers).wrap(t),r.originalTabindex=r.$element.prop("tabindex"),r.$element.prop("tabindex",-1),r.populate(),r.activate(),r.utils.triggerCallback("Init",r))},activate:function(){var t=this,e=t.elements.items.closest(":visible").children(":hidden").addClass(t.classes.tempshow),i=t.$element.width();e.removeClass(t.classes.tempshow),t.utils.triggerCallback("BeforeActivate",t),t.elements.outerWrapper.prop("class",t.utils.arrayToClassname([t.classes.wrapper,t.$element.prop("class").replace(/\S+/g,t.classes.prefix+"-$&"),t.options.responsive?t.classes.responsive:""])),t.options.inheritOriginalWidth&&0<i&&t.elements.outerWrapper.width(i),t.unbindEvents(),t.$element.prop("disabled")?(t.elements.outerWrapper.addClass(t.classes.disabled),t.elements.input&&t.elements.input.prop("disabled",!0)):(t.state.enabled=!0,t.elements.outerWrapper.removeClass(t.classes.disabled),t.$li=t.elements.items.removeAttr("style").find("li"),t.bindEvents()),t.utils.triggerCallback("Activate",t)},getClassNames:function(){var n=this,o=n.options.customClass,s={};return h.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(t,e){var i=o.prefix+e;s[e.toLowerCase()]=o.camelCase?i:n.utils.toDash(i)}),s.prefix=o.prefix,s},setLabel:function(){var e,t,i=this,n=i.options.labelBuilder;i.state.multiple?(t=0===(t=h.isArray(i.state.currValue)?i.state.currValue:[i.state.currValue]).length?[0]:t,e=h.map(t,function(e){return h.grep(i.lookupItems,function(t){return t.index===e})[0]}),e=h.grep(e,function(t){return 1<e.length||0===e.length?""!==h.trim(t.value):t}),e=h.map(e,function(t){return h.isFunction(n)?n(t):i.utils.format(n,t)}),i.options.multiple.maxLabelEntries&&(e.length>=i.options.multiple.maxLabelEntries+1?(e=e.slice(0,i.options.multiple.maxLabelEntries)).push(h.isFunction(n)?n({text:"..."}):i.utils.format(n,{text:"..."})):e.slice(e.length-1)),i.elements.label.html(e.join(i.options.multiple.separator))):(t=i.lookupItems[i.state.currValue],i.elements.label.html(h.isFunction(n)?n(t):i.utils.format(n,t)))},populate:function(){var n=this,t=n.$element.children(),e=n.$element.find("option"),i=e.filter(":selected"),o=e.index(i),s=0,e=n.state.multiple?[]:0;1<i.length&&n.state.multiple&&(o=[],i.each(function(){o.push(h(this).index())})),n.state.currValue=~o?o:e,n.state.selectedIdx=n.state.currValue,n.state.highlightedIdx=n.state.currValue,n.items=[],n.lookupItems=[],t.length&&(t.each(function(t){var i,e=h(this);e.is("optgroup")?(i={element:e,label:e.prop("label"),groupDisabled:e.prop("disabled"),items:[]},e.children().each(function(t){var e=h(this);i.items[t]=n.getItemData(s,e,i.groupDisabled||e.prop("disabled")),n.lookupItems[s]=i.items[t],s++}),n.items[t]=i):(n.items[t]=n.getItemData(s,e,e.prop("disabled")),n.lookupItems[s]=n.items[t],s++)}),n.setLabel(),n.elements.items.append(n.elements.itemsScroll.html(n.getItemsMarkup(n.items))))},getItemData:function(t,e,i){return{index:t,element:e,value:e.val(),className:e.prop("class"),text:e.html(),slug:h.trim(this.utils.replaceDiacritics(e.html())),alt:e.attr("data-alt"),selected:e.prop("selected"),disabled:i}},getItemsMarkup:function(t){var i=this,n="<ul>";return h.isFunction(i.options.listBuilder)&&i.options.listBuilder&&(t=i.options.listBuilder(t)),h.each(t,function(t,e){void 0!==e.label?(n+=i.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',i.utils.arrayToClassname([i.classes.group,e.groupDisabled?"disabled":"",e.element.prop("class")]),i.classes.grouplabel,e.element.prop("label")),h.each(e.items,function(t,e){n+=i.getItemMarkup(e.index,e)}),n+="</ul>"):n+=i.getItemMarkup(e.index,e)}),n+"</ul>"},getItemMarkup:function(t,e){var i=this,n=i.options.optionsItemBuilder,o={value:e.value,text:e.text,slug:e.slug,index:e.index};return i.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,i.utils.arrayToClassname([e.className,t===i.items.length-1?"last":"",e.disabled?"disabled":"",e.selected?"selected":""]),h.isFunction(n)?i.utils.format(n(e,this.$element,t),e):i.utils.format(n,o))},unbindEvents:function(){this.elements.wrapper.add(this.$element).add(this.elements.outerWrapper).add(this.elements.input).off(n)},bindEvents:function(){var s=this;s.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(t){h(this).toggleClass(s.classes.hover,"mouseenter"===t.type),s.options.openOnHover&&(clearTimeout(s.closeTimer),"mouseleave"===t.type?s.closeTimer=setTimeout(h.proxy(s.close,s),s.options.hoverIntentTimeout):s.open())}),s.elements.wrapper.on("click.sl",function(t){s.state.opened?s.close():s.open(t)}),s.options.nativeOnMobile&&s.utils.isMobile()||(s.$element.on("focus.sl",function(){s.elements.input.focus()}),s.elements.input.prop({tabindex:s.originalTabindex,disabled:!1}).on("keydown.sl",h.proxy(s.handleKeys,s)).on("focusin.sl",function(t){s.elements.outerWrapper.addClass(s.classes.focus),s.elements.input.one("blur",function(){s.elements.input.blur()}),s.options.openOnFocus&&!s.state.opened&&s.open(t)}).on("focusout.sl",function(){s.elements.outerWrapper.removeClass(s.classes.focus)}).on("input propertychange",function(){var t=s.elements.input.val(),o=new RegExp("^"+s.utils.escapeRegExp(t),"i");clearTimeout(s.resetStr),s.resetStr=setTimeout(function(){s.elements.input.val("")},s.options.keySearchTimeout),t.length&&h.each(s.items,function(t,e){if(!e.disabled)if(o.test(e.text)||o.test(e.slug))s.highlight(t);else if(e.alt)for(var i=e.alt.split("|"),n=0;n<i.length&&i[n];n++)if(o.test(i[n].trim()))return void s.highlight(t)})})),s.$li.on({mousedown:function(t){t.preventDefault(),t.stopPropagation()},click:function(){return s.select(h(this).data("index")),!1}})},handleKeys:function(t){var e=this,i=t.which,n=e.options.keys,o=-1<h.inArray(i,n.previous),s=-1<h.inArray(i,n.next),a=-1<h.inArray(i,n.select),r=-1<h.inArray(i,n.open),l=e.state.highlightedIdx,c=o&&0===l||s&&l+1===e.items.length,n=0;if(13!==i&&32!==i||t.preventDefault(),o||s){if(!e.options.allowWrap&&c)return;o&&(n=e.utils.previousEnabledItem(e.lookupItems,l)),s&&(n=e.utils.nextEnabledItem(e.lookupItems,l)),e.highlight(n)}if(a&&e.state.opened)return e.select(l),void(e.state.multiple&&e.options.multiple.keepMenuOpen||e.close());r&&!e.state.opened&&e.open()},refresh:function(){this.populate(),this.activate(),this.utils.triggerCallback("Refresh",this)},setOptionsDimensions:function(){var t=this,e=t.elements.items.closest(":visible").children(":hidden").addClass(t.classes.tempshow),i=t.options.maxHeight,n=t.elements.items.outerWidth(),o=t.elements.wrapper.outerWidth()-(n-t.elements.items.width());!t.options.expandToItemText||n<o?t.finalWidth=o:(t.elements.items.css("overflow","scroll"),t.elements.outerWrapper.width(9e4),t.finalWidth=t.elements.items.width(),t.elements.items.css("overflow",""),t.elements.outerWrapper.width("")),t.elements.items.width(t.finalWidth).height()>i&&t.elements.items.height(i),e.removeClass(t.classes.tempshow)},isInViewport:function(){var t,e,i,n=this;!0===n.options.forceRenderAbove?n.elements.outerWrapper.addClass(n.classes.above):!0===n.options.forceRenderBelow?n.elements.outerWrapper.addClass(n.classes.below):(i=o.scrollTop(),e=o.height(),e=(t=n.elements.outerWrapper.offset().top)+n.elements.outerWrapper.outerHeight()+n.itemsHeight<=i+e,i=t-n.itemsHeight>i,i=!(e=!e&&i),n.elements.outerWrapper.toggleClass(n.classes.above,e),n.elements.outerWrapper.toggleClass(n.classes.below,i))},detectItemVisibility:function(t){var e=this,i=e.$li.filter("[data-index]");e.state.multiple&&(t=h.isArray(t)&&0===t.length?0:t,t=h.isArray(t)?Math.min.apply(Math,t):t);var n=i.eq(t).outerHeight(),o=i[t].offsetTop,i=e.elements.itemsScroll.scrollTop(),t=o+2*n;e.elements.itemsScroll.scrollTop(t>i+e.itemsHeight?t-e.itemsHeight:o-n<i?o-n:i)},open:function(t){var o=this;if(o.options.nativeOnMobile&&o.utils.isMobile())return!1;o.utils.triggerCallback("BeforeOpen",o),t&&(t.preventDefault(),o.options.stopPropagation&&t.stopPropagation()),o.state.enabled&&(o.setOptionsDimensions(),h("."+o.classes.hideselect,"."+o.classes.open).children()[l]("close"),o.state.opened=!0,o.itemsHeight=o.elements.items.outerHeight(),o.itemsInnerHeight=o.elements.items.height(),o.elements.outerWrapper.addClass(o.classes.open),o.elements.input.val(""),t&&"focusin"!==t.type&&o.elements.input.focus(),setTimeout(function(){e.on("click.sl",h.proxy(o.close,o)).on("scroll.sl",h.proxy(o.isInViewport,o))},1),o.isInViewport(),o.options.preventWindowScroll&&e.on("mousewheel.sl DOMMouseScroll.sl","."+o.classes.scroll,function(t){var e=t.originalEvent,i=h(this).scrollTop(),n=0;"detail"in e&&(n=-1*e.detail),"wheelDelta"in e&&(n=e.wheelDelta),"wheelDeltaY"in e&&(n=e.wheelDeltaY),"deltaY"in e&&(n=-1*e.deltaY),(i===this.scrollHeight-o.itemsInnerHeight&&n<0||0===i&&0<n)&&t.preventDefault()}),o.detectItemVisibility(o.state.selectedIdx),o.highlight(o.state.multiple?-1:o.state.selectedIdx),o.utils.triggerCallback("Open",o))},close:function(){var t=this;t.utils.triggerCallback("BeforeClose",t),e.off(n),t.elements.outerWrapper.removeClass(t.classes.open),t.state.opened=!1,t.utils.triggerCallback("Close",t)},change:function(){var i=this;i.utils.triggerCallback("BeforeChange",i),i.state.multiple?(h.each(i.lookupItems,function(t){i.lookupItems[t].selected=!1,i.$element.find("option").prop("selected",!1)}),h.each(i.state.selectedIdx,function(t,e){i.lookupItems[e].selected=!0,i.$element.find("option").eq(e).prop("selected",!0)}),i.state.currValue=i.state.selectedIdx,i.setLabel(),i.utils.triggerCallback("Change",i)):i.state.currValue!==i.state.selectedIdx&&(i.$element.prop("selectedIndex",i.state.currValue=i.state.selectedIdx).data("value",i.lookupItems[i.state.selectedIdx].text),i.setLabel(),i.utils.triggerCallback("Change",i))},highlight:function(t){var e=this,i=e.$li.filter("[data-index]").removeClass("highlighted");e.utils.triggerCallback("BeforeHighlight",e),void 0===t||-1===t||e.lookupItems[t].disabled||(i.eq(e.state.highlightedIdx=t).addClass("highlighted"),e.detectItemVisibility(t),e.utils.triggerCallback("Highlight",e))},select:function(t){var e,i=this,n=i.$li.filter("[data-index]");i.utils.triggerCallback("BeforeSelect",i,t),void 0===t||-1===t||i.lookupItems[t].disabled||(i.state.multiple?(i.state.selectedIdx=h.isArray(i.state.selectedIdx)?i.state.selectedIdx:[i.state.selectedIdx],-1!==(e=h.inArray(t,i.state.selectedIdx))?i.state.selectedIdx.splice(e,1):i.state.selectedIdx.push(t),n.removeClass("selected").filter(function(t){return-1!==h.inArray(t,i.state.selectedIdx)}).addClass("selected")):n.removeClass("selected").eq(i.state.selectedIdx=t).addClass("selected"),i.state.multiple&&i.options.multiple.keepMenuOpen||i.close(),i.change(),i.utils.triggerCallback("Select",i,t))},destroy:function(t){var e=this;e.state&&e.state.enabled&&(e.elements.items.add(e.elements.wrapper).add(e.elements.input).remove(),t||e.$element.removeData(l).removeData("value"),e.$element.prop("tabindex",e.originalTabindex).off(n).off(e.eventTriggers).unwrap().unwrap(),e.state.enabled=!1)}},h.fn[l]=function(e){return this.each(function(){var t=h.data(this,l);t&&!t.disableOnMobile?"string"==typeof e&&t[e]?t[e]():t.init(e):h.data(this,l,new i(this,e))})},h.fn[l].defaults={onChange:function(t){h(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:l,camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,function(){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function t(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function e(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function s(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,i;e=n,t=o[i=t],i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=r(i);return t=n?(t=r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?l(e):t}}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(i):e.value}})(t,e,i||t)}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return i}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var f={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},p=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n(this,e),Object.assign(this,f,t),this.smartphone=f.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=f.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return t(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){var t;this.reloadOnContextChange&&(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint,t=this.context,this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context&&("desktop"==t?this:this[t]).smooth!=("desktop"==this.context?this:this[this.context]).smooth&&window.location.reload())}},{key:"initEvents",value:function(){var e=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(t){t.addEventListener("click",e.setScrollTo,!1)})}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(n){var o=this,s=this.instance.scroll.y,a=s+this.windowHeight,r=this.instance.scroll.x,l=r+this.windowWidth;Object.entries(this.els).forEach(function(t){var e,i=E(t,2),t=i[0],i=i[1];!i||i.inView&&!n||("horizontal"===o.direction?l>=i.left&&r<i.right&&o.setInView(i,t):a>=i.top&&s<i.bottom&&o.setInView(i,t)),i&&i.inView&&("horizontal"===o.direction?(e=i.right-i.left,i.progress=(o.instance.scroll.x-(i.left-o.windowWidth))/(e+o.windowWidth),(l<i.left||r>i.right)&&o.setOutOfView(i,t)):(e=i.bottom-i.top,i.progress=(o.instance.scroll.y-(i.top-o.windowHeight))/(e+o.windowHeight),(a<i.top||s>i.bottom)&&o.setOutOfView(i,t)))}),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),(this.currentElements[e]=t).call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach(function(t){t===e&&delete i.currentElements[t]}),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map(function(t){return t.trim()}),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);t=new Event(this.namespace+"call");this.el.dispatchEvent(t)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){var i;this.listeners[t]&&((e=(i=this.listeners[t]).indexOf(e))<0||(i.splice(e,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1)))}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),t=this.listeners[i];t&&0!==t.length&&t.forEach(function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var e=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(t){e.el.removeEventListener(e.namespace+t,e.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(t){t.removeEventListener("click",e.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(t,e){return t(e={exports:{}},e.exports),e.exports}var y=v(function(t,e){function i(){var t,n,r,l,i,e,c=window,h=document;function d(t,e){this.scrollLeft=t,this.scrollTop=e}function o(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function s(t,e){return"Y"===e?t.clientHeight+i<t.scrollHeight:"X"===e?t.clientWidth+i<t.scrollWidth:void 0}function a(t,e){e=c.getComputedStyle(t,null)["overflow"+e];return"auto"===e||"scroll"===e}function u(t){for(;t!==h.body&&!1===(i=void 0,i=s(e=t,"Y")&&a(e,"Y"),e=s(e,"X")&&a(e,"X"),i||e);)t=t.parentNode||t.host;var e,i;return t}function f(t){var e,i=(l()-t.startTime)/n;e=i=1<i?1:i,i=.5*(1-Math.cos(Math.PI*e)),e=t.startX+(t.x-t.startX)*i,i=t.startY+(t.y-t.startY)*i,t.method.call(t.scrollable,e,i),e===t.x&&i===t.y||c.requestAnimationFrame(f.bind(c,t))}function p(t,e,i){var n,o,s,a=l(),t=t===h.body?(o=(n=c).scrollX||c.pageXOffset,s=c.scrollY||c.pageYOffset,r.scroll):(o=(n=t).scrollLeft,s=t.scrollTop,d);f({scrollable:n,method:t,startTime:a,startX:o,startY:s,x:e,y:i})}"scrollBehavior"in h.documentElement.style&&!0!==c.__forceSmoothScrollPolyfill__||(t=c.HTMLElement||c.Element,n=468,r={scroll:c.scroll||c.scrollTo,scrollBy:c.scrollBy,elementScroll:t.prototype.scroll||d,scrollIntoView:t.prototype.scrollIntoView},l=c.performance&&c.performance.now?c.performance.now.bind(c.performance):Date.now,e=c.navigator.userAgent,i=new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)?1:0,c.scroll=c.scrollTo=function(){void 0!==arguments[0]&&(!0!==o(arguments[0])?p.call(c,h.body,void 0!==arguments[0].left?~~arguments[0].left:c.scrollX||c.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:c.scrollY||c.pageYOffset):r.scroll.call(c,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:c.scrollX||c.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:c.scrollY||c.pageYOffset))},c.scrollBy=function(){void 0!==arguments[0]&&(o(arguments[0])?r.scrollBy.call(c,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(c,h.body,~~arguments[0].left+(c.scrollX||c.pageXOffset),~~arguments[0].top+(c.scrollY||c.pageYOffset)))},t.prototype.scroll=t.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==o(arguments[0])){var t=arguments[0].left,e=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},t.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==o(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},t.prototype.scrollIntoView=function(){var t,e,i;!0!==o(arguments[0])?(e=(t=u(this)).getBoundingClientRect(),i=this.getBoundingClientRect(),t!==h.body?(p.call(this,t,t.scrollLeft+i.left-e.left,t.scrollTop+i.top-e.top),"fixed"!==c.getComputedStyle(t).position&&c.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):c.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])})}t.exports={polyfill:i}}),b=(y.polyfill,function(){a(i,p);var e=c(i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n(this,i),(t=e.call(this,t)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",t.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=y,window.smoothscrollPolyfill.polyfill()),t}return t(i,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),h(r(i.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;h(r(i.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var u=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(t,e){t.getBoundingClientRect();var i=t.dataset[u.name+"Class"]||u.class,n="string"==typeof t.dataset[u.name+"Id"]?t.dataset[u.name+"Id"]:e,o="string"==typeof t.dataset[u.name+"Offset"]?t.dataset[u.name+"Offset"].split(","):u.offset,s=t.dataset[u.name+"Repeat"],a=t.dataset[u.name+"Call"],r=t.dataset[u.name+"Target"],l=void 0!==r?document.querySelector("".concat(r)):t,c=l.getBoundingClientRect(),h=c.top+u.instance.scroll.y,d=c.left+u.instance.scroll.x,e=h+l.offsetHeight,r=d+l.offsetWidth,s="false"!=s&&(null!=s||u.repeat),c=u.getRelativeOffset(o);h+=c[0],e-=c[1],u.els[n]={el:t,targetEl:l,id:n,class:i,top:h,bottom:e,left:d,right:r,offset:o,progress:0,repeat:s,inView:!1,call:a},t.classList.contains(i)&&u.setInView(u.els[n],n)})}},{key:"updateElements",value:function(){var o=this;Object.entries(this.els).forEach(function(t){var e=E(t,2),i=e[0],n=e[1],t=n.targetEl.getBoundingClientRect().top+o.instance.scroll.y,e=t+n.targetEl.offsetHeight,n=o.getRelativeOffset(n.offset);o.els[i].top=t+n[0],o.els[i].bottom=e-n[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,n=e.callback||!1;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");var i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i,o=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(n){if(o())return void n();window.addEventListener("scroll",function t(){o()&&(window.removeEventListener("scroll",t),n())})}window.scrollTo({top:i,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){h(r(i.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),i}()),x=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var C=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var i,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in i=Object(arguments[o]))w.call(i,s)&&(n[s]=i[s]);if(x)for(var a=x(i),r=0;r<a.length;r++)S.call(i,a[r])&&(n[a[r]]=i[a[r]])}return n};function _(){}_.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function o(){n.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&o.push(n[s]);return o.length?i[t]=o:delete i[t],this}};function k(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)D.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==I.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var o=e[n];t[o]=function(t,e){return function(){return t.apply(e,arguments)}}(t[o],t)}}var T=_,P=v(function(t,e){!function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){for(var t=[],e=1,i=2*this.stability;1<=i?e<=i:i<=e;1<=i?e++:e--)t.push(null);return t}.call(this),this.lastDownDeltas=function(){for(var t=[],e=1,i=2*this.stability;1<=i?e<=i:i<=e;1<=i?e++:e--)t.push(null);return t}.call(this),this.deltasTimestamp=function(){for(var t=[],e=1,i=2*this.stability;1<=i?e<=i:i<=e;1<=i?e++:e--)t.push(null);return t}.call(this)}(null!==e?e:this).Lethargy=(t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),0<e?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,o=-1===t?this.lastDownDeltas:this.lastUpDeltas;return null===o[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&o[0]===o[2*this.stability-1])&&(i=o.slice(0,this.stability),e=o.slice(this.stability,2*this.stability),n=i.reduce(function(t,e){return t+e}),o=e.reduce(function(t,e){return t+e}),i=n/i.length,e=o/e.length,Math.abs(i)<Math.abs(e*this.tolerance)&&this.sensitivity<Math.abs(e)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t)}.call(g)}),A={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:-1<navigator.userAgent.indexOf("Firefox")},I=Object.prototype.toString,D=Object.prototype.hasOwnProperty;var L=P.Lethargy,M="virtualscroll",B=R,z=37,O=38,$=39,F=40,W=32;function R(t){k(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=C({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new L),this._emitter=new T,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function j(t,e,i){return(1-i)*t+i*e}function H(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),t=i.transform||i.webkitTransform||i.mozTransform,i=t.match(/^matrix3d\((.+)\)$/);return i?(e.x=i?parseFloat(i[1].split(", ")[12]):0,e.y=i?parseFloat(i[1].split(", ")[13]):0):(i=t.match(/^matrix\((.+)\)$/),e.x=i?parseFloat(i[1].split(", ")[4]):0,e.y=i?parseFloat(i[1].split(", ")[5]):0),e}}function q(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}R.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(M,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},R.prototype._onWheel=function(t){var e,i=this.options;this._lethargy&&!1===this._lethargy.check(t)||((e=this._event).deltaX=t.wheelDeltaX||-1*t.deltaX,e.deltaY=t.wheelDeltaY||-1*t.deltaY,A.isFirefox&&1==t.deltaMode&&(e.deltaX*=i.firefoxMultiplier,e.deltaY*=i.firefoxMultiplier),e.deltaX*=i.mouseMultiplier,e.deltaY*=i.mouseMultiplier,this._notify(t))},R.prototype._onMouseWheel=function(t){var e;this.options.limitInertia&&!1===this._lethargy.check(t)||((e=this._event).deltaX=t.wheelDeltaX||0,e.deltaY=t.wheelDeltaY||t.wheelDelta,this._notify(t))},R.prototype._onTouchStart=function(t){t=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=t.pageX,this.touchStartY=t.pageY},R.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},R.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case z:case O:e.deltaY=this.options.keyStep;break;case $:case F:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case W:e.deltaY=-i;break;default:return}this._notify(t)},R.prototype._bind=function(){A.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),A.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),A.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),A.hasPointer&&A.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),A.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},R.prototype._unbind=function(){A.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),A.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),A.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),A.hasPointer&&A.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),A.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},R.prototype.on=function(t,e){this._emitter.on(M,t,e);e=this._emitter.e;e&&e[M]&&1===e[M].length&&this._bind()},R.prototype.off=function(t,e){this._emitter.off(M,t,e);e=this._emitter.e;(!e[M]||e[M].length<=0)&&this._unbind()},R.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},R.prototype.destroy=function(){this._emitter.off(),this._unbind()};var Y=4,X=1e-7,N=10,V="function"==typeof Float32Array;function U(t,e){return 1-3*e+3*t}function K(t,e,i){return((U(e,i)*t+(3*i-6*e))*t+3*e)*t}function Q(t,e,i){return 3*U(e,i)*t*t+2*(3*i-6*e)*t+3*e}function G(t){return t}function Z(s,e,a,i){if(!(0<=s&&s<=1&&0<=a&&a<=1))throw new Error("bezier x values must be in [0, 1] range");if(s===e&&a===i)return G;for(var r=new(V?Float32Array:Array)(11),t=0;t<11;++t)r[t]=K(.1*t,s,a);function n(t){for(var e=0,i=1;10!==i&&r[i]<=t;++i)e+=.1;var n=e+.1*((t-r[--i])/(r[i+1]-r[i])),o=Q(n,s,a);return.001<=o?function(t,e,i,n){for(var o=0;o<Y;++o){var s=Q(e,i,n);if(0===s)return e;e-=(K(e,i,n)-t)/s}return e}(t,n,s,a):0===o?n:function(t,e,i,n,o){for(var s,a,r=0;0<(s=K(a=e+(i-e)/2,n,o)-t)?i=a:e=a,Math.abs(s)>X&&++r<N;);return a}(t,e,e+.1,s,a)}return function(t){return 0===t?0:1===t?1:K(n(t),e,i)}}var J=38,tt=40,et=32,it=9,nt=33,ot=34,st=36,at=35,rt=function(){a(o,p);var i=c(o);function o(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n(this,o),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(t=i.call(this,e)).inertia&&(t.lerp=.1*t.inertia),t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements={},t.stop=!1,t.scrollbarContainer=e.scrollbarContainer,t.checkKey=t.checkKey.bind(l(t)),window.addEventListener("keydown",t.checkKey,!1),t}return t(o,[{key:"init",value:function(){var e=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new B({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(t){e.stop||e.isDraggingScrollbar||requestAnimationFrame(function(){e.updateDelta(t),e.isScrolling||e.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),h(r(o.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==it&&requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(t.keyCode){case it:requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case J:this.instance.delta[this.directionAxis]-=240;break;case tt:this.instance.delta[this.directionAxis]+=240;break;case nt:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case ot:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case st:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case at:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case et:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t,e,i=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];(n||this.isScrolling||this.isDraggingScrollbar)&&(this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return i.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll(),e=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),t=Date.now()-this.startScrollTs,!this.animatingScroll&&100<t&&(e<.5&&0!=this.instance.delta[this.directionAxis]||e<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(t){t=E(t,2),t[0],t=t[1];t.persistent||i.instance.scroll[i.directionAxis]>t.offset[i.directionAxis]&&i.instance.scroll[i.directionAxis]<t.limit[i.directionAxis]?("horizontal"===i.direction?i.transform(t.el,-i.instance.scroll[i.directionAxis],0):i.transform(t.el,0,-i.instance.scroll[i.directionAxis]),t.inView||(t.inView=!0,t.el.style.opacity=1,t.el.style.pointerEvents="all",t.el.setAttribute("data-".concat(i.name,"-section-inview"),""))):((t.inView||n)&&(t.inView=!1,t.el.style.opacity=0,t.el.style.pointerEvents="none",t.el.removeAttribute("data-".concat(i.name,"-section-inview"))),i.transform(t.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar&&(e=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis],"horizontal"===this.direction?this.transform(this.scrollbarThumb,e,0):this.transform(this.scrollbarThumb,0,e)),h(r(o.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1)}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e=(this[this.context]&&this[this.context].gestureDirection?this[this.context]:this).gestureDirection,t="both"===e?t.deltaX+t.deltaY:"vertical"!==e&&"horizontal"===e?t.deltaX:t.deltaY;this.instance.delta[this.directionAxis]-=t*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=j(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),(this.scrollbarContainer||document.body).append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(i){var n=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var t=100*(i.clientX-n.scrollbarBCR.left)/n.scrollbarWidth*n.instance.limit.x/100,e=100*(i.clientY-n.scrollbarBCR.top)/n.scrollbarHeight*n.instance.limit.y/100;0<e&&e<n.instance.limit.y&&(n.instance.delta.y=e),0<t&&t<n.instance.limit.x&&(n.instance.delta.x=t)})}},{key:"addElements",value:function(){var _=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(t,e){var i,n=q(t),o=Object.entries(_.sections).map(function(t){t=E(t,2);t[0];return t[1]}).find(function(t){return n.includes(t.el)}),s=t.dataset[_.name+"Class"]||_.class,a="string"==typeof t.dataset[_.name+"Id"]?t.dataset[_.name+"Id"]:"el"+e,r=t.dataset[_.name+"Repeat"],l=t.dataset[_.name+"Call"],c=t.dataset[_.name+"Position"],h=t.dataset[_.name+"Delay"],d=t.dataset[_.name+"Direction"],u="string"==typeof t.dataset[_.name+"Sticky"],f=!!t.dataset[_.name+"Speed"]&&parseFloat(t.dataset[_.name+"Speed"])/10,p="string"==typeof t.dataset[_.name+"Offset"]?t.dataset[_.name+"Offset"].split(","):_.offset,m=t.dataset[_.name+"Target"],g=void 0!==m?document.querySelector("".concat(m)):t,v=g.getBoundingClientRect(),y=null===o||o.inView?(i=v.top+_.instance.scroll.y-H(g).y,v.left+_.instance.scroll.x-H(g).x):(i=v.top-H(o.el).y-H(g).y,v.left-H(o.el).x-H(g).x),b=i+g.offsetHeight,x=y+g.offsetWidth,w={x:(x-y)/2+y,y:(b-i)/2+i};u&&(m=(e=t.getBoundingClientRect()).top,e={x:(v=e.left)-y,y:m-i},i+=window.innerHeight,y+=window.innerWidth,b=m+g.offsetHeight-t.offsetHeight-e[_.directionAxis],w={x:((x=v+g.offsetWidth-t.offsetWidth-e[_.directionAxis])-y)/2+y,y:(b-i)/2+i});var r="false"!=r&&(null!=r||_.repeat),S=[0,0];if(p)if("horizontal"===_.direction){for(var C=0;C<p.length;C++)"string"==typeof p[C]?p[C].includes("%")?S[C]=parseInt(p[C].replace("%","")*_.windowWidth/100):S[C]=parseInt(p[C]):S[C]=p[C];y+=S[0],x-=S[1]}else{for(C=0;C<p.length;C++)"string"==typeof p[C]?p[C].includes("%")?S[C]=parseInt(p[C].replace("%","")*_.windowHeight/100):S[C]=parseInt(p[C]):S[C]=p[C];i+=S[0],b-=S[1]}d={el:t,id:a,class:s,section:o,top:i,middle:w,bottom:b,left:y,right:x,offset:p,progress:0,repeat:r,inView:!1,call:l,speed:f,delay:h,position:c,target:g,direction:d,sticky:u};_.els[a]=d,t.classList.contains(s)&&_.setInView(_.els[a],a),!1===f&&!u||(_.parallaxElements[a]=d)})}},{key:"addSections",value:function(){var s=this;this.sections={};var t=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));(t=0===t.length?[this.el]:t).forEach(function(t,e){var i="string"==typeof t.dataset[s.name+"Id"]?t.dataset[s.name+"Id"]:"section"+e,n=t.getBoundingClientRect(),o={x:n.left-1.5*window.innerWidth-H(t).x,y:n.top-1.5*window.innerHeight-H(t).y},e={x:o.x+n.width+2*window.innerWidth,y:o.y+n.height+2*window.innerHeight},n="string"==typeof t.dataset[s.name+"Persistent"];t.setAttribute("data-scroll-section-id",i),s.sections[i]={el:t,offset:o,limit:e,inView:!1,persistent:n,id:i}})}},{key:"transform",value:function(t,e,i,n){var o,s;i=n?(s=j((o=H(t)).x,e,n),n=j(o.y,i,n),"matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(s,",").concat(n,",0,1)")):"matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)"),t.style.webkitTransform=i,t.style.msTransform=i,t.style.transform=i}},{key:"transformElements",value:function(n){var o=this,s=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=this.instance.scroll.x+this.windowWidth,r=this.instance.scroll.y+this.windowHeight,l={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(t){var t=E(t,2),e=(t[0],t[1]),i=n?0:!1;if(e.inView||s)switch(e.position){case"top":i=o.instance.scroll[o.directionAxis]*-e.speed;break;case"elementTop":i=(r-e.top)*-e.speed;break;case"bottom":i=(o.instance.limit[o.directionAxis]-r+o.windowHeight)*e.speed;break;case"left":i=o.instance.scroll[o.directionAxis]*-e.speed;break;case"elementLeft":i=(a-e.left)*-e.speed;break;case"right":i=(o.instance.limit[o.directionAxis]-a+o.windowHeight)*e.speed;break;default:i=(l[o.directionAxis]-e.middle[o.directionAxis])*-e.speed}!1!==(i=e.sticky?e.inView?"horizontal"===o.direction?o.instance.scroll.x-e.left+window.innerWidth:o.instance.scroll.y-e.top+window.innerHeight:"horizontal"===o.direction?o.instance.scroll.x<e.left-window.innerWidth&&o.instance.scroll.x<e.left-window.innerWidth/2?0:o.instance.scroll.x>e.right&&o.instance.scroll.x>e.right+100&&e.right-e.left+window.innerWidth:o.instance.scroll.y<e.top-window.innerHeight&&o.instance.scroll.y<e.top-window.innerHeight/2?0:o.instance.scroll.y>e.bottom&&o.instance.scroll.y>e.bottom+100&&e.bottom-e.top+window.innerHeight:i)&&("horizontal"===e.direction||"horizontal"===o.direction&&"vertical"!==e.direction?o.transform(e.el,i,0,!n&&e.delay):o.transform(e.el,0,i,!n&&e.delay))})}},{key:"scrollTo",value:function(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(e.offset)||0,o=isNaN(parseInt(e.duration))?1e3:parseInt(e.duration),s=e.easing||[.25,0,.35,1],a=!!e.disableLerp,r=e.callback||!1,s=Z.apply(void 0,m(s));if("string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){if(!q(t).includes(this.el))return;var l=t.getBoundingClientRect(),c=l.top,h=l.left,e=q(t).find(function(e){return Object.entries(i.sections).map(function(t){t=E(t,2);t[0];return t[1]}).find(function(t){return t.el==e})}),l=0,l=e?H(e)[this.directionAxis]:-this.instance.scroll[this.directionAxis],n="horizontal"===this.direction?h+n-l:c+n-l}else n=t+n;var d=parseFloat(this.instance.delta[this.directionAxis]),u=Math.max(0,Math.min(n,this.instance.limit[this.directionAxis]))-d,f=function(t){a?"horizontal"===i.direction?i.setScroll(d+u*t,i.instance.delta.y):i.setScroll(i.instance.delta.x,d+u*t):i.instance.delta[i.directionAxis]=d+u*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var p=Date.now();(function t(){var e=(Date.now()-p)/o;1<e?(f(1),i.animatingScroll=!1,0==o&&i.update(),r&&r()):(i.scrollToRaf=requestAnimationFrame(t),f(s(e)))})()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){h(r(o.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),o}();return function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.options=t,Object.assign(this,f,t),this.smartphone=f.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=f.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return t(e,[{key:"init",value:function(){var t;this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new rt(this.options):this.scroll=new b(this.options),this.scroll.init(),window.location.hash&&(t=window.location.hash.slice(1,window.location.hash.length),(t=document.getElementById(t))&&this.scroll.scrollTo(t))}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()});